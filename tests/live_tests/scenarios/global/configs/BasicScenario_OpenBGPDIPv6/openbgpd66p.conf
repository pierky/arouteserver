# built by ARouteServer
AS 999
router-id 192.0.2.2

fib-update no
log updates

nexthop qualify via default

INTCOMM_PREF_OK_ROA="soo 65535:1"
INTCOMM_ROUTE_OK_WL="soo 65535:2"
INTCOMM_PREF_OK_ARINDB="soo 65535:3"
INTCOMM_PREF_OK_REGISTROBRDB="soo 65535:12"

INTCOMM_ORIGIN_OK="soo 65535:4"
INTCOMM_ORIGIN_KO="soo 65535:5"
INTCOMM_PREFIX_OK="soo 65535:6"
INTCOMM_PREFIX_KO="soo 65535:7"
INTCOMM_IRR_REJECT="soo 65535:8"

INTCOMM_RPKI_UNKNOWN="soo 65535:9"
INTCOMM_RPKI_INVALID="soo 65535:10"
INTCOMM_RPKI_VALID="soo 65535:11"

INTCOMM_NO_EXPORT="soo 65535:65281"
INTCOMM_NO_ADVERTISE="soo 65535:65282"

# ---------------------------------------------------------
# IRRDB

# AS222, used by client AS222_1, client AS222_2
# no origin ASNs found for AS222
# no prefixes found for AS222

# AS2, used by client AS2_1, client AS2_2
# no origin ASNs found for AS2
# no prefixes found for AS2

# AS-AS1, AS-AS1_CUSTOMERS, used by client AS1_1, client AS1_2, client AS1_3, client AS1_4
as-set "AS_SET_AS_AS1_AS_AS1_CUSTOMERS_asns" {
    1 101 103 104
}
prefix-set "AS_SET_AS_AS1_AS_AS1_CUSTOMERS_prefixes" {
    2a01::/32 prefixlen 32 - 128
    2a99::/16 prefixlen 16 - 128
    3101::/32 prefixlen 32 - 128
    3103::/32 prefixlen 32 - 128
}

# AS-AS2, AS-AS2_CUSTOMERS, used by client AS2_1, client AS2_2
as-set "AS_SET_AS_AS2_AS_AS2_CUSTOMERS_asns" {
    2 101 103
}
prefix-set "AS_SET_AS_AS2_AS_AS2_CUSTOMERS_prefixes" {
    2a02::/32 prefixlen 32 - 128
    3101::/32 prefixlen 32 - 128
    3103::/32 prefixlen 32 - 128
}

# WHITE_LIST_AS1_2, used by client AS1_2 white list
as-set "AS_SET_WHITE_LIST_AS1_2_asns" {
    1011
}
prefix-set "AS_SET_WHITE_LIST_AS1_2_prefixes" {
    11.1.0.0/16 prefixlen 16 - 32
    2a11:1::/32 prefixlen 32 - 128
}

# AS-AS222, used by client AS222_1, client AS222_2
as-set "AS_SET_AS_AS222_asns" {
    333
}
prefix-set "AS_SET_AS_AS222_prefixes" {
    3222::/32 prefixlen 32 - 128
}

# AS1, used by client AS1_1, client AS1_2, client AS1_3, client AS1_4
# no origin ASNs found for AS1
# no prefixes found for AS1

# WHITE_LIST_AS1_1, used by client AS1_1 white list
as-set "AS_SET_WHITE_LIST_AS1_1_asns" {
    1011
}
prefix-set "AS_SET_WHITE_LIST_AS1_1_prefixes" {
    11.1.0.0/16 prefixlen 16 - 32
    2a11:1::/32 prefixlen 32 - 128
}




# ---------------------------------------------------------
# MEMBERS

group "clients" {

	neighbor 192.0.2.11 {
		remote-as 1

		descr "AS1_1 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 none
		announce IPv4 unicast

		set nexthop no-modify
	}

	# RTT: 0.1 ms (normalized value: 1)
	neighbor 2001:db8:1:1::11 {
		remote-as 1

		descr "AS1_1 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 unicast
		announce IPv4 none

		set nexthop no-modify
	}

	neighbor 192.0.2.12 {
		remote-as 1

		descr "AS1_2 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 none
		announce IPv4 unicast

		set nexthop no-modify
	}

	# RTT: 5 ms (normalized value: 5)
	neighbor 2001:db8:1:1::12 {
		remote-as 1

		descr "AS1_2 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 unicast
		announce IPv4 none

		set nexthop no-modify
	}

	neighbor 192.0.2.222 {
		remote-as 222

		descr "AS222_1 client"
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 none
		announce IPv4 unicast

		set nexthop no-modify
	}

	neighbor 2001:db8:1:1::222 {
		remote-as 222

		descr "AS222_1 client"
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 unicast
		announce IPv4 none

		set nexthop no-modify
	}

	neighbor 192.0.2.21 {
		remote-as 2

		descr "AS2_1 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 none
		announce IPv4 unicast

		set nexthop no-modify
	}

	# RTT: 17.3 ms (normalized value: 17)
	neighbor 2001:db8:1:1::21 {
		remote-as 2

		descr "AS2_1 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 unicast
		announce IPv4 none

		set nexthop no-modify
	}

	neighbor 192.0.2.31 {
		remote-as 3

		descr "AS3_1 client"
		ttl-security no
		transparent-as no
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 none
		announce IPv4 unicast

		set nexthop no-modify
	}

	# RTT: 123.8 ms (normalized value: 124)
	neighbor 2001:db8:1:1::31 {
		remote-as 3

		descr "AS3_1 client"
		ttl-security no
		transparent-as no
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 unicast
		announce IPv4 none

		set nexthop no-modify
	}

	neighbor 192.0.2.41 {
		remote-as 4

		descr "AS4_1 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 none
		announce IPv4 unicast

		set nexthop no-modify
	}

	# RTT: 600 ms (normalized value: 600)
	neighbor 2001:db8:1:1::41 {
		remote-as 4

		descr "AS4_1 client"
		passive
		ttl-security no
		transparent-as yes
		enforce neighbor-as no

		announce as-4byte yes
		announce IPv6 unicast
		announce IPv4 none

		set nexthop no-modify
	}
}

include "/etc/bgpd/post-clients.local"



# ---------------------------------------------------------
# FILTERS

# NO_ADVERTISE usage notes.
# The NO_ADVERTISE well-know community is used here to handle
# filters that span over multiple steps. At first it is added
# to any route, then it is removed as filters conditions are
# satisfied. Finally, if it is still present, it means that
# the route should be discarded.




prefix-set "global_black_list_pref" {
    192.0.2.0/24 prefixlen 24 - 32
    2001:db8::/32 prefixlen 32 - 128

}

prefix-set "bogons" {
    0.0.0.0/0
    0.0.0.0/8 prefixlen 8 - 32
    10.0.0.0/8 prefixlen 8 - 32
    127.0.0.0/8 prefixlen 8 - 32
    169.254.0.0/16 prefixlen 16 - 32
    172.16.0.0/12 prefixlen 12 - 32
    192.0.2.0/24 prefixlen 24 - 32
    192.88.99.0/24 prefixlen 24 - 32
    192.168.0.0/16 prefixlen 16 - 32
    198.18.0.0/15 prefixlen 15 - 32
    198.51.100.0/24 prefixlen 24 - 32
    203.0.113.0/24 prefixlen 24 - 32
    224.0.0.0/3 prefixlen 3 - 32
    100.64.0.0/10 prefixlen 10 - 32
    ::/0
    ::/8 prefixlen 8 - 128
    64:ff9b::/96 prefixlen 96 - 128
    100::/8 prefixlen 8 - 128
    200::/7 prefixlen 7 - 128
    400::/6 prefixlen 6 - 128
    800::/5 prefixlen 5 - 128
    1000::/4 prefixlen 4 - 128
    2001::/33 prefixlen 33 - 128
    2001:0:8000::/33 prefixlen 33 - 128
    2001:2::/48 prefixlen 48 - 128
    2001:3::/32 prefixlen 32 - 128
    2001:10::/28 prefixlen 28 - 128
    2001:20::/28 prefixlen 28 - 128
    2001:db8::/32 prefixlen 32 - 128
    2002::/16 prefixlen 16 - 128
    3ffe::/16 prefixlen 16 - 128
    4000::/3 prefixlen 3 - 128
    5f00::/8 prefixlen 8 - 128
    6000::/3 prefixlen 3 - 128
    8000::/3 prefixlen 3 - 128
    a000::/3 prefixlen 3 - 128
    c000::/3 prefixlen 3 - 128
    e000::/4 prefixlen 4 - 128
    f000::/5 prefixlen 5 - 128
    f800::/6 prefixlen 6 - 128
    fc00::/7 prefixlen 7 - 128
    fe80::/10 prefixlen 10 - 128
    fec0::/10 prefixlen 10 - 128
    ff00::/8 prefixlen 8 - 128

}

# =====================================================================================
# Global rules.

# This part of configuration is processed at the beginning of the filters.
# The rules defined in this part are applied to all the clients, and not on a
# client-by-client basis (see the 'match from group clients'), so only global policies
# can be implemented here, that is no client-level configuration are allowed.



# Scrub communities from inbound routes
# origin_not_present_in_as_set
match from group clients set community delete 65530:0
match from group clients set large-community delete 999:65530:0

# origin_present_in_as_set
match from group clients set community delete 65530:1
match from group clients set large-community delete 999:65530:1

# prefix_validated_via_arin_whois_db_dump
match from group clients set community delete 65530:3
match from group clients set large-community delete 999:65530:3

# prefix_validated_via_rpki_roas
match from group clients set community delete 65530:2
match from group clients set large-community delete 999:65530:2


# Scrub internal communities from inbound routes
match from group clients set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  }



# The main goal of this block is to enrich routes received from clients by attaching to them
# internal informational communities which are used later by the rest of the filter rules.

# Internal communities used for RFC1997 well-known communities handling

# Transform NO_EXPORT into $INTCOMM_NO_EXPORT
match from group clients community NO_EXPORT set { ext-community $INTCOMM_NO_EXPORT community delete NO_EXPORT }

# Transform NO_ADVERTISE into $INTCOMM_NO_ADVERTISE
match from group clients community NO_ADVERTISE set { ext-community $INTCOMM_NO_ADVERTISE community delete NO_ADVERTISE }


# ---------------------------------------------------------
# RPKI-based Origin Validation
roa-set {
    101.3.0.0/16 maxlen 24 source-as 105
    101.2.0.0/17 source-as 101
    101.2.128.0/17 maxlen 24 source-as 101
    101.0.128.0/20 maxlen 23 source-as 101
    101.0.8.0/24 source-as 101
    101.0.9.0/24 source-as 102
    222.1.1.0/24 source-as 333
    3101:3::/32 maxlen 48 source-as 105
    3101:0:8000::/33 maxlen 34 source-as 101
    3101:2:8000::/33 maxlen 48 source-as 101
    3101:2::/33 source-as 101
    3101:0:8::/48 source-as 101
    3101:0:9::/48 source-as 102
    3222:1:1::/48 source-as 333

}

# Add $INTCOMM_RPKI_UNKNOWN, $INTCOMM_RPKI_INVALID and $INTCOMM_RPKI_VALID
# ext community on the basis of ovs.
match from group clients ovs not-found set ext-community $INTCOMM_RPKI_UNKNOWN
match from group clients ovs valid set ext-community $INTCOMM_RPKI_VALID
match from group clients ovs invalid set ext-community $INTCOMM_RPKI_INVALID




# RPKI ROAs used as route objects.
# Add the $INTCOMM_PREF_OK_ROA ext community to routes whose
# origin ASN has a ROA for the announced prefix.
# It will be used later during IRRDB validation in
# case the origin ASN is authorized by a client's
# AS-SET but the prefix is not.
# Since RPKI-based Origin Validation is already performed above,
# use the origin validation state to identify valid routes.
match from group clients ovs valid set ext-community $INTCOMM_PREF_OK_ROA

# ARIN Whois records used for preifx validation
# ---------------------------------------------

# Add the $INTCOMM_PREF_OK_ARINDB ext community to routes whose
# origin ASN has an ARIN Whois record for the announced prefix.
# It will be used later during IRRDB validation in
# case the origin ASN is authorized by a client's
# AS-SET but the prefix is not.
origin-set "ARINDB" {
104.0.0.0/23 prefixlen 23 - 32 source-as 104
3104::/32 prefixlen 32 - 128 source-as 104
}
match from group clients origin-set ARINDB set ext-community $INTCOMM_PREF_OK_ARINDB

# NIC.BR Whois records used for preifx validation
# -----------------------------------------------

# Add the $INTCOMM_PREF_OK_REGISTROBRDB ext community to routes whose
# origin ASN has a NIC.BR Whois record for the announced prefix.
# It will be used later during IRRDB validation in
# case the origin ASN is authorized by a client's
# AS-SET but the prefix is not.
origin-set "REGISTROBRDB" {
104.1.1.0/24 prefixlen 24 - 32 source-as 104
3104:1:1::/48 prefixlen 48 - 128 source-as 104
}
match from group clients origin-set REGISTROBRDB set ext-community $INTCOMM_PREF_OK_REGISTROBRDB



# Set the 'rejected_route_announced_by' community for all the clients.
# It will be removed later if the route is not invalid
match from 192.0.2.11 set ext-community rt 65520:1

match from 2001:db8:1:1::11 set ext-community rt 65520:1

match from 192.0.2.12 set ext-community rt 65520:1

match from 2001:db8:1:1::12 set ext-community rt 65520:1

match from 192.0.2.222 set ext-community rt 65520:222

match from 2001:db8:1:1::222 set ext-community rt 65520:222

match from 192.0.2.21 set ext-community rt 65520:2

match from 2001:db8:1:1::21 set ext-community rt 65520:2

match from 192.0.2.31 set ext-community rt 65520:3

match from 2001:db8:1:1::31 set ext-community rt 65520:3

match from 192.0.2.41 set ext-community rt 65520:4

match from 2001:db8:1:1::41 set ext-community rt 65520:4




# AS_PATH: length
# Reject inbound routes when 'from group clients max-as-len 6' - reject code: 1
allow quick from group clients max-as-len 6 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:1}


# Prefix: global blacklist
# Reject inbound routes when 'from group clients prefix-set global_black_list_pref' - reject code: 3
allow quick from group clients prefix-set global_black_list_pref set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:3}


# Prefix: only IPv6 Global Unicast space allowed
match from group clients inet6 set community NO_ADVERTISE
match from group clients prefix 2000::/3 or-longer set community delete NO_ADVERTISE
# Reject inbound routes when 'from group clients community NO_ADVERTISE' - reject code: 10
allow quick from group clients community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:10}


# Prefix: bogon
# Reject inbound routes when 'from group clients prefix-set bogons' - reject code: 2
allow quick from group clients prefix-set bogons set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:2}




# =====================================================================================
# Per client rules.


# ---------------------------------------------
# client AS1_1, inbound



# NEXT_HOP
match from 192.0.2.11 set community NO_ADVERTISE
match from 192.0.2.11 nexthop 192.0.2.11 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 192.0.2.11 community NO_ADVERTISE' - reject code: 5
allow quick from 192.0.2.11 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 192.0.2.11 peer-as != 1' - reject code: 6
allow quick from 192.0.2.11 peer-as != 1 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 192.0.2.11 AS 23456' - reject code: 7
allow quick from 192.0.2.11 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.11 AS 64496 - 131071' - reject code: 7
allow quick from 192.0.2.11 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.11 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 192.0.2.11 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 192.0.2.11 AS { 3, 174 }' - reject code: 8
allow quick from 192.0.2.11 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 192.0.2.11 AS { 666, 777 }' - reject code: 15
allow quick from 192.0.2.11 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}


# client's white list
# Add the $INTCOMM_ROUTE_OK_WL ext community to routes which
# are validated by a client's white list entry.
# It will be used later during IRRDB validation in
# case the route is not authorized by a client's
# AS-SET.
match from 192.0.2.11 prefix 11.3.0.0/16 source-as 1011 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 192.0.2.11 prefix 11.4.0.0/16 prefixlen 16 - 32 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 192.0.2.11 prefix 2a11:3::/32 source-as 1011 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 192.0.2.11 prefix 2a11:4::/32 prefixlen 32 - 128 set ext-community $INTCOMM_ROUTE_OK_WL	# None

match from 192.0.2.11 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS1_1, AS1: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.11 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
match from 192.0.2.11 source-as as-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS1_AS_AS1_CUSTOMERS
# AS-SET AS1 referenced but empty.
match from 192.0.2.11 source-as as-set AS_SET_WHITE_LIST_AS1_1_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # WHITE_LIST_AS1_1


# Prefix: check prefix via AS-SET
# IRRDB filters for AS1_1, AS1: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.11 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
match from 192.0.2.11 prefix-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS1_AS_AS1_CUSTOMERS
# AS-SET AS1 referenced but empty.
match from 192.0.2.11 prefix-set AS_SET_WHITE_LIST_AS1_1_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # WHITE_LIST_AS1_1


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.11 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.11 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.11 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT

# route authorized by a client's white list?
match from 192.0.2.11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ROUTE_OK_WL set ext-community delete $INTCOMM_IRR_REJECT

# enforcing: origin ASN
# Reject inbound routes when 'from 192.0.2.11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 192.0.2.11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 192.0.2.11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 192.0.2.11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 192.0.2.11 set ext-community delete rt 65520:1


# Remove internal communities before accepting the route
match from 192.0.2.11 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.11 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.11 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 192.0.2.11 community BLACKHOLE
allow quick from 192.0.2.11 community 65534:0
allow quick from 192.0.2.11 large-community 65534:0:0


match from 192.0.2.11 set ext-community rt 65520:1


# RPKI-based Origin Validation
# Reject inbound routes when 'from 192.0.2.11 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 192.0.2.11 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 192.0.2.11 prefix 0.0.0.0/0 prefixlen 8 >< 24' - reject code: 13
allow quick from 192.0.2.11 prefix 0.0.0.0/0 prefixlen 8 >< 24 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 192.0.2.11 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 192.0.2.11 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 192.0.2.11 set ext-community delete rt 65520:1



allow quick from 192.0.2.11



# ---------------------------------------------
# client AS1_1, outbound

deny quick to 192.0.2.11 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 192.0.2.11 community 65534:0 set community BLACKHOLE
match to 192.0.2.11 large-community 65534:0:0 set community BLACKHOLE

match to 192.0.2.11 community BLACKHOLE set community NO_EXPORT
match to 192.0.2.11 community BLACKHOLE set nexthop 192.0.2.66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 192.0.2.11 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 192.0.2.11 community 65507:999 set community NO_EXPORT
match to 192.0.2.11 ext-community rt 65507:999 set community NO_EXPORT
match to 192.0.2.11 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 192.0.2.11 community 65508:999 set community NO_ADVERTISE
match to 192.0.2.11 ext-community rt 65508:999 set community NO_ADVERTISE
match to 192.0.2.11 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 192.0.2.11 community 65509:1 set community NO_EXPORT
match to 192.0.2.11 ext-community rt 65509:1 set community NO_EXPORT
match to 192.0.2.11 large-community 999:65509:1 set community NO_EXPORT

# add_noadvertise_to_peer
match to 192.0.2.11 community 65510:1 set community NO_ADVERTISE
match to 192.0.2.11 ext-community rt 65510:1 set community NO_ADVERTISE
match to 192.0.2.11 large-community 999:65510:1 set community NO_ADVERTISE


# BGP control communities
allow to 192.0.2.11

# do_not_announce_to_any
deny to 192.0.2.11 community 0:999
deny to 192.0.2.11 ext-community rt 0:999
deny to 192.0.2.11 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 192.0.2.11 community 0:1
deny quick to 192.0.2.11 ext-community rt 0:1
deny quick to 192.0.2.11 large-community 999:0:1

# announce_to_peer
allow to 192.0.2.11 community 65501:1
allow to 192.0.2.11 ext-community rt 65501:1
allow to 192.0.2.11 large-community 999:65501:1


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.11 community 65521:1 set prepend-neighbor 1
match to 192.0.2.11 ext-community rt 65521:1 set prepend-neighbor 1
match to 192.0.2.11 large-community 999:65521:1 set prepend-neighbor 1

match to 192.0.2.11 community 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 ext-community rt 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 large-community 999:65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.11 community 65522:1 set prepend-neighbor 2
match to 192.0.2.11 ext-community rt 65522:1 set prepend-neighbor 2
match to 192.0.2.11 large-community 999:65522:1 set prepend-neighbor 2

match to 192.0.2.11 community 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 ext-community rt 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 large-community 999:65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.11 community 65523:1 set prepend-neighbor 3
match to 192.0.2.11 ext-community rt 65523:1 set prepend-neighbor 3
match to 192.0.2.11 large-community 999:65523:1 set prepend-neighbor 3

match to 192.0.2.11 community 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 ext-community rt 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 large-community 999:65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.11 community 65521:65521 set prepend-neighbor 1
match to 192.0.2.11 ext-community rt 65521:65521 set prepend-neighbor 1
match to 192.0.2.11 large-community 999:65521:65521 set prepend-neighbor 1

match to 192.0.2.11 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.11 community 65522:65522 set prepend-neighbor 2
match to 192.0.2.11 ext-community rt 65522:65522 set prepend-neighbor 2
match to 192.0.2.11 large-community 999:65522:65522 set prepend-neighbor 2

match to 192.0.2.11 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.11 community 65523:65523 set prepend-neighbor 3
match to 192.0.2.11 ext-community rt 65523:65523 set prepend-neighbor 3
match to 192.0.2.11 large-community 999:65523:65523 set prepend-neighbor 3

match to 192.0.2.11 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.11 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS1_2, inbound



# NEXT_HOP
match from 2001:db8:1:1::11 set community NO_ADVERTISE
match from 2001:db8:1:1::11 nexthop 2001:db8:1:1::11 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 2001:db8:1:1::11 community NO_ADVERTISE' - reject code: 5
allow quick from 2001:db8:1:1::11 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 2001:db8:1:1::11 peer-as != 1' - reject code: 6
allow quick from 2001:db8:1:1::11 peer-as != 1 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 2001:db8:1:1::11 AS 23456' - reject code: 7
allow quick from 2001:db8:1:1::11 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::11 AS 64496 - 131071' - reject code: 7
allow quick from 2001:db8:1:1::11 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::11 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 2001:db8:1:1::11 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 2001:db8:1:1::11 AS { 3, 174 }' - reject code: 8
allow quick from 2001:db8:1:1::11 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 2001:db8:1:1::11 AS { 666, 777 }' - reject code: 15
allow quick from 2001:db8:1:1::11 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}


# client's white list
# Add the $INTCOMM_ROUTE_OK_WL ext community to routes which
# are validated by a client's white list entry.
# It will be used later during IRRDB validation in
# case the route is not authorized by a client's
# AS-SET.
match from 2001:db8:1:1::11 prefix 11.3.0.0/16 source-as 1011 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 2001:db8:1:1::11 prefix 11.4.0.0/16 prefixlen 16 - 32 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 2001:db8:1:1::11 prefix 2a11:3::/32 source-as 1011 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 2001:db8:1:1::11 prefix 2a11:4::/32 prefixlen 32 - 128 set ext-community $INTCOMM_ROUTE_OK_WL	# None

match from 2001:db8:1:1::11 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS1_2, AS1: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::11 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
match from 2001:db8:1:1::11 source-as as-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS1_AS_AS1_CUSTOMERS
match from 2001:db8:1:1::11 source-as as-set AS_SET_WHITE_LIST_AS1_2_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # WHITE_LIST_AS1_2
# AS-SET AS1 referenced but empty.


# Prefix: check prefix via AS-SET
# IRRDB filters for AS1_2, AS1: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::11 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
match from 2001:db8:1:1::11 prefix-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS1_AS_AS1_CUSTOMERS
match from 2001:db8:1:1::11 prefix-set AS_SET_WHITE_LIST_AS1_2_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # WHITE_LIST_AS1_2
# AS-SET AS1 referenced but empty.


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::11 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::11 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::11 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT

# route authorized by a client's white list?
match from 2001:db8:1:1::11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ROUTE_OK_WL set ext-community delete $INTCOMM_IRR_REJECT

# enforcing: origin ASN
# Reject inbound routes when 'from 2001:db8:1:1::11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 2001:db8:1:1::11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 2001:db8:1:1::11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 2001:db8:1:1::11 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 2001:db8:1:1::11 set ext-community delete rt 65520:1


# Remove internal communities before accepting the route
match from 2001:db8:1:1::11 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::11 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::11 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 2001:db8:1:1::11 community BLACKHOLE
allow quick from 2001:db8:1:1::11 community 65534:0
allow quick from 2001:db8:1:1::11 large-community 65534:0:0


match from 2001:db8:1:1::11 set ext-community rt 65520:1


# RPKI-based Origin Validation
# Reject inbound routes when 'from 2001:db8:1:1::11 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 2001:db8:1:1::11 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 2001:db8:1:1::11 prefix ::/0 prefixlen 17 >< 48' - reject code: 13
allow quick from 2001:db8:1:1::11 prefix ::/0 prefixlen 17 >< 48 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 2001:db8:1:1::11 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 2001:db8:1:1::11 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 2001:db8:1:1::11 set ext-community delete rt 65520:1



allow quick from 2001:db8:1:1::11



# ---------------------------------------------
# client AS1_2, outbound

deny quick to 2001:db8:1:1::11 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 2001:db8:1:1::11 community 65534:0 set community BLACKHOLE
match to 2001:db8:1:1::11 large-community 65534:0:0 set community BLACKHOLE

match to 2001:db8:1:1::11 community BLACKHOLE set community NO_EXPORT
match to 2001:db8:1:1::11 community BLACKHOLE set nexthop 2001:db8:1:1::66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 2001:db8:1:1::11 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 2001:db8:1:1::11 community 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::11 ext-community rt 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::11 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 2001:db8:1:1::11 community 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::11 ext-community rt 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::11 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 2001:db8:1:1::11 community 65509:1 set community NO_EXPORT
match to 2001:db8:1:1::11 ext-community rt 65509:1 set community NO_EXPORT
match to 2001:db8:1:1::11 large-community 999:65509:1 set community NO_EXPORT

# add_noadvertise_to_peer
match to 2001:db8:1:1::11 community 65510:1 set community NO_ADVERTISE
match to 2001:db8:1:1::11 ext-community rt 65510:1 set community NO_ADVERTISE
match to 2001:db8:1:1::11 large-community 999:65510:1 set community NO_ADVERTISE


# BGP control communities
allow to 2001:db8:1:1::11

# do_not_announce_to_any
deny to 2001:db8:1:1::11 community 0:999
deny to 2001:db8:1:1::11 ext-community rt 0:999
deny to 2001:db8:1:1::11 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 2001:db8:1:1::11 community 0:1
deny quick to 2001:db8:1:1::11 ext-community rt 0:1
deny quick to 2001:db8:1:1::11 large-community 999:0:1

# do_not_announce_to_peers_with_rtt_lower_than 5 ms
deny to 2001:db8:1:1::11 community 64530:5
deny to 2001:db8:1:1::11 ext-community rt 64530:5
deny to 2001:db8:1:1::11 large-community 999:64530:5


# do_not_announce_to_peers_with_rtt_lower_than 10 ms
deny to 2001:db8:1:1::11 community 64530:10
deny to 2001:db8:1:1::11 ext-community rt 64530:10
deny to 2001:db8:1:1::11 large-community 999:64530:10


# do_not_announce_to_peers_with_rtt_lower_than 15 ms
deny to 2001:db8:1:1::11 community 64530:15
deny to 2001:db8:1:1::11 ext-community rt 64530:15
deny to 2001:db8:1:1::11 large-community 999:64530:15


# do_not_announce_to_peers_with_rtt_lower_than 20 ms
deny to 2001:db8:1:1::11 community 64530:20
deny to 2001:db8:1:1::11 ext-community rt 64530:20
deny to 2001:db8:1:1::11 large-community 999:64530:20


# do_not_announce_to_peers_with_rtt_lower_than 30 ms
deny to 2001:db8:1:1::11 community 64530:30
deny to 2001:db8:1:1::11 ext-community rt 64530:30
deny to 2001:db8:1:1::11 large-community 999:64530:30


# do_not_announce_to_peers_with_rtt_lower_than 50 ms
deny to 2001:db8:1:1::11 community 64530:50
deny to 2001:db8:1:1::11 ext-community rt 64530:50
deny to 2001:db8:1:1::11 large-community 999:64530:50


# do_not_announce_to_peers_with_rtt_lower_than 100 ms
deny to 2001:db8:1:1::11 community 64530:100
deny to 2001:db8:1:1::11 ext-community rt 64530:100
deny to 2001:db8:1:1::11 large-community 999:64530:100


# do_not_announce_to_peers_with_rtt_lower_than 200 ms
deny to 2001:db8:1:1::11 community 64530:200
deny to 2001:db8:1:1::11 ext-community rt 64530:200
deny to 2001:db8:1:1::11 large-community 999:64530:200


# do_not_announce_to_peers_with_rtt_lower_than 500 ms
deny to 2001:db8:1:1::11 community 64530:500
deny to 2001:db8:1:1::11 ext-community rt 64530:500
deny to 2001:db8:1:1::11 large-community 999:64530:500


# announce_to_peers_with_rtt_lower_than 5 ms
allow to 2001:db8:1:1::11 community 64532:5
allow to 2001:db8:1:1::11 ext-community rt 64532:5
allow to 2001:db8:1:1::11 large-community 999:64532:5


# announce_to_peers_with_rtt_lower_than 10 ms
allow to 2001:db8:1:1::11 community 64532:10
allow to 2001:db8:1:1::11 ext-community rt 64532:10
allow to 2001:db8:1:1::11 large-community 999:64532:10


# announce_to_peers_with_rtt_lower_than 15 ms
allow to 2001:db8:1:1::11 community 64532:15
allow to 2001:db8:1:1::11 ext-community rt 64532:15
allow to 2001:db8:1:1::11 large-community 999:64532:15


# announce_to_peers_with_rtt_lower_than 20 ms
allow to 2001:db8:1:1::11 community 64532:20
allow to 2001:db8:1:1::11 ext-community rt 64532:20
allow to 2001:db8:1:1::11 large-community 999:64532:20


# announce_to_peers_with_rtt_lower_than 30 ms
allow to 2001:db8:1:1::11 community 64532:30
allow to 2001:db8:1:1::11 ext-community rt 64532:30
allow to 2001:db8:1:1::11 large-community 999:64532:30


# announce_to_peers_with_rtt_lower_than 50 ms
allow to 2001:db8:1:1::11 community 64532:50
allow to 2001:db8:1:1::11 ext-community rt 64532:50
allow to 2001:db8:1:1::11 large-community 999:64532:50


# announce_to_peers_with_rtt_lower_than 100 ms
allow to 2001:db8:1:1::11 community 64532:100
allow to 2001:db8:1:1::11 ext-community rt 64532:100
allow to 2001:db8:1:1::11 large-community 999:64532:100


# announce_to_peers_with_rtt_lower_than 200 ms
allow to 2001:db8:1:1::11 community 64532:200
allow to 2001:db8:1:1::11 ext-community rt 64532:200
allow to 2001:db8:1:1::11 large-community 999:64532:200


# announce_to_peers_with_rtt_lower_than 500 ms
allow to 2001:db8:1:1::11 community 64532:500
allow to 2001:db8:1:1::11 ext-community rt 64532:500
allow to 2001:db8:1:1::11 large-community 999:64532:500


# announce_to_peer
allow to 2001:db8:1:1::11 community 65501:1
allow to 2001:db8:1:1::11 ext-community rt 65501:1
allow to 2001:db8:1:1::11 large-community 999:65501:1


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 65521:1 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 65521:1 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:65521:1 set prepend-neighbor 1

match to 2001:db8:1:1::11 community 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 65522:1 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 65522:1 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:65522:1 set prepend-neighbor 2

match to 2001:db8:1:1::11 community 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 65523:1 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 65523:1 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:65523:1 set prepend-neighbor 3

match to 2001:db8:1:1::11 community 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_peers_with_rtt_lower_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:5 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:5 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:5 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:5 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:5 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:5 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:5 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:5 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:5 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:10 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:10 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:10 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:10 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:10 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:10 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:10 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:10 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:10 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:15 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:15 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:15 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:15 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:15 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:15 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:15 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:15 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:15 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:20 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:20 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:20 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:20 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:20 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:20 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:20 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:20 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:20 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:30 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:30 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:30 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:30 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:30 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:30 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:30 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:30 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:30 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:50 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:50 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:50 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:50 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:50 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:50 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:50 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:50 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:50 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:100 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:100 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:100 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:100 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:100 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:100 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:100 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:100 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:100 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:200 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:200 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:200 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:64534:500 set prepend-neighbor 1


match to 2001:db8:1:1::11 community 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:64535:500 set prepend-neighbor 2


match to 2001:db8:1:1::11 community 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:64536:500 set prepend-neighbor 3


match to 2001:db8:1:1::11 community 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::11 ext-community rt 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::11 large-community 999:65521:65521 set prepend-neighbor 1

match to 2001:db8:1:1::11 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::11 ext-community rt 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::11 large-community 999:65522:65522 set prepend-neighbor 2

match to 2001:db8:1:1::11 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::11 community 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::11 ext-community rt 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::11 large-community 999:65523:65523 set prepend-neighbor 3

match to 2001:db8:1:1::11 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::11 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS1_3, inbound



# NEXT_HOP
match from 192.0.2.12 set community NO_ADVERTISE
match from 192.0.2.12 nexthop 192.0.2.11 set community delete NO_ADVERTISE
match from 192.0.2.12 nexthop 192.0.2.12 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 192.0.2.12 community NO_ADVERTISE' - reject code: 5
allow quick from 192.0.2.12 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 192.0.2.12 peer-as != 1' - reject code: 6
allow quick from 192.0.2.12 peer-as != 1 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 192.0.2.12 AS 23456' - reject code: 7
allow quick from 192.0.2.12 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.12 AS 64496 - 131071' - reject code: 7
allow quick from 192.0.2.12 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.12 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 192.0.2.12 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 192.0.2.12 AS { 3, 174 }' - reject code: 8
allow quick from 192.0.2.12 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 192.0.2.12 AS { 666, 777 }' - reject code: 15
allow quick from 192.0.2.12 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}



match from 192.0.2.12 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS1_3, AS1: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.12 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
match from 192.0.2.12 source-as as-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS1_AS_AS1_CUSTOMERS
# AS-SET AS1 referenced but empty.


# Prefix: check prefix via AS-SET
# IRRDB filters for AS1_3, AS1: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.12 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
match from 192.0.2.12 prefix-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS1_AS_AS1_CUSTOMERS
# AS-SET AS1 referenced but empty.


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.12 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.12 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.12 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT


# enforcing: origin ASN
# Reject inbound routes when 'from 192.0.2.12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 192.0.2.12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 192.0.2.12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 192.0.2.12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 192.0.2.12 set ext-community delete rt 65520:1


# Remove internal communities before accepting the route
match from 192.0.2.12 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.12 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.12 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 192.0.2.12 community BLACKHOLE
allow quick from 192.0.2.12 community 65534:0
allow quick from 192.0.2.12 large-community 65534:0:0


match from 192.0.2.12 set ext-community rt 65520:1


# RPKI-based Origin Validation
# Reject inbound routes when 'from 192.0.2.12 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 192.0.2.12 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 192.0.2.12 prefix 0.0.0.0/0 prefixlen 8 >< 24' - reject code: 13
allow quick from 192.0.2.12 prefix 0.0.0.0/0 prefixlen 8 >< 24 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 192.0.2.12 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 192.0.2.12 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 192.0.2.12 set ext-community delete rt 65520:1



allow quick from 192.0.2.12



# ---------------------------------------------
# client AS1_3, outbound

deny quick to 192.0.2.12 community 65520:0



# Blackhole request?
# Client not enabled to receive blackhole routes
deny quick to 192.0.2.12 community BLACKHOLE
deny quick to 192.0.2.12 community 65534:0
deny quick to 192.0.2.12 large-community 65534:0:0


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 192.0.2.12 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 192.0.2.12 community 65507:999 set community NO_EXPORT
match to 192.0.2.12 ext-community rt 65507:999 set community NO_EXPORT
match to 192.0.2.12 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 192.0.2.12 community 65508:999 set community NO_ADVERTISE
match to 192.0.2.12 ext-community rt 65508:999 set community NO_ADVERTISE
match to 192.0.2.12 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 192.0.2.12 community 65509:1 set community NO_EXPORT
match to 192.0.2.12 ext-community rt 65509:1 set community NO_EXPORT
match to 192.0.2.12 large-community 999:65509:1 set community NO_EXPORT

# add_noadvertise_to_peer
match to 192.0.2.12 community 65510:1 set community NO_ADVERTISE
match to 192.0.2.12 ext-community rt 65510:1 set community NO_ADVERTISE
match to 192.0.2.12 large-community 999:65510:1 set community NO_ADVERTISE


# BGP control communities
allow to 192.0.2.12

# do_not_announce_to_any
deny to 192.0.2.12 community 0:999
deny to 192.0.2.12 ext-community rt 0:999
deny to 192.0.2.12 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 192.0.2.12 community 0:1
deny quick to 192.0.2.12 ext-community rt 0:1
deny quick to 192.0.2.12 large-community 999:0:1

# announce_to_peer
allow to 192.0.2.12 community 65501:1
allow to 192.0.2.12 ext-community rt 65501:1
allow to 192.0.2.12 large-community 999:65501:1


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.12 community 65521:1 set prepend-neighbor 1
match to 192.0.2.12 ext-community rt 65521:1 set prepend-neighbor 1
match to 192.0.2.12 large-community 999:65521:1 set prepend-neighbor 1

match to 192.0.2.12 community 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 ext-community rt 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 large-community 999:65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.12 community 65522:1 set prepend-neighbor 2
match to 192.0.2.12 ext-community rt 65522:1 set prepend-neighbor 2
match to 192.0.2.12 large-community 999:65522:1 set prepend-neighbor 2

match to 192.0.2.12 community 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 ext-community rt 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 large-community 999:65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.12 community 65523:1 set prepend-neighbor 3
match to 192.0.2.12 ext-community rt 65523:1 set prepend-neighbor 3
match to 192.0.2.12 large-community 999:65523:1 set prepend-neighbor 3

match to 192.0.2.12 community 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 ext-community rt 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 large-community 999:65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.12 community 65521:65521 set prepend-neighbor 1
match to 192.0.2.12 ext-community rt 65521:65521 set prepend-neighbor 1
match to 192.0.2.12 large-community 999:65521:65521 set prepend-neighbor 1

match to 192.0.2.12 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.12 community 65522:65522 set prepend-neighbor 2
match to 192.0.2.12 ext-community rt 65522:65522 set prepend-neighbor 2
match to 192.0.2.12 large-community 999:65522:65522 set prepend-neighbor 2

match to 192.0.2.12 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.12 community 65523:65523 set prepend-neighbor 3
match to 192.0.2.12 ext-community rt 65523:65523 set prepend-neighbor 3
match to 192.0.2.12 large-community 999:65523:65523 set prepend-neighbor 3

match to 192.0.2.12 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.12 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS1_4, inbound



# NEXT_HOP
match from 2001:db8:1:1::12 set community NO_ADVERTISE
match from 2001:db8:1:1::12 nexthop 2001:db8:1:1::11 set community delete NO_ADVERTISE
match from 2001:db8:1:1::12 nexthop 2001:db8:1:1::12 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 2001:db8:1:1::12 community NO_ADVERTISE' - reject code: 5
allow quick from 2001:db8:1:1::12 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 2001:db8:1:1::12 peer-as != 1' - reject code: 6
allow quick from 2001:db8:1:1::12 peer-as != 1 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 2001:db8:1:1::12 AS 23456' - reject code: 7
allow quick from 2001:db8:1:1::12 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::12 AS 64496 - 131071' - reject code: 7
allow quick from 2001:db8:1:1::12 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::12 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 2001:db8:1:1::12 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 2001:db8:1:1::12 AS { 3, 174 }' - reject code: 8
allow quick from 2001:db8:1:1::12 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 2001:db8:1:1::12 AS { 666, 777 }' - reject code: 15
allow quick from 2001:db8:1:1::12 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}



match from 2001:db8:1:1::12 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS1_4, AS1: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::12 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
match from 2001:db8:1:1::12 source-as as-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS1_AS_AS1_CUSTOMERS
# AS-SET AS1 referenced but empty.


# Prefix: check prefix via AS-SET
# IRRDB filters for AS1_4, AS1: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::12 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
match from 2001:db8:1:1::12 prefix-set AS_SET_AS_AS1_AS_AS1_CUSTOMERS_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS1_AS_AS1_CUSTOMERS
# AS-SET AS1 referenced but empty.


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::12 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::12 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::12 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT


# enforcing: origin ASN
# Reject inbound routes when 'from 2001:db8:1:1::12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 2001:db8:1:1::12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 2001:db8:1:1::12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 2001:db8:1:1::12 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 2001:db8:1:1::12 set ext-community delete rt 65520:1


# Remove internal communities before accepting the route
match from 2001:db8:1:1::12 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::12 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::12 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 2001:db8:1:1::12 community BLACKHOLE
allow quick from 2001:db8:1:1::12 community 65534:0
allow quick from 2001:db8:1:1::12 large-community 65534:0:0


match from 2001:db8:1:1::12 set ext-community rt 65520:1


# RPKI-based Origin Validation
# Reject inbound routes when 'from 2001:db8:1:1::12 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 2001:db8:1:1::12 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 2001:db8:1:1::12 prefix ::/0 prefixlen 17 >< 48' - reject code: 13
allow quick from 2001:db8:1:1::12 prefix ::/0 prefixlen 17 >< 48 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 2001:db8:1:1::12 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 2001:db8:1:1::12 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 2001:db8:1:1::12 set ext-community delete rt 65520:1



allow quick from 2001:db8:1:1::12



# ---------------------------------------------
# client AS1_4, outbound

deny quick to 2001:db8:1:1::12 community 65520:0



# Blackhole request?
# Client not enabled to receive blackhole routes
deny quick to 2001:db8:1:1::12 community BLACKHOLE
deny quick to 2001:db8:1:1::12 community 65534:0
deny quick to 2001:db8:1:1::12 large-community 65534:0:0


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 2001:db8:1:1::12 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 2001:db8:1:1::12 community 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::12 ext-community rt 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::12 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 2001:db8:1:1::12 community 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::12 ext-community rt 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::12 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 2001:db8:1:1::12 community 65509:1 set community NO_EXPORT
match to 2001:db8:1:1::12 ext-community rt 65509:1 set community NO_EXPORT
match to 2001:db8:1:1::12 large-community 999:65509:1 set community NO_EXPORT

# add_noadvertise_to_peer
match to 2001:db8:1:1::12 community 65510:1 set community NO_ADVERTISE
match to 2001:db8:1:1::12 ext-community rt 65510:1 set community NO_ADVERTISE
match to 2001:db8:1:1::12 large-community 999:65510:1 set community NO_ADVERTISE


# BGP control communities
allow to 2001:db8:1:1::12

# do_not_announce_to_any
deny to 2001:db8:1:1::12 community 0:999
deny to 2001:db8:1:1::12 ext-community rt 0:999
deny to 2001:db8:1:1::12 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 2001:db8:1:1::12 community 0:1
deny quick to 2001:db8:1:1::12 ext-community rt 0:1
deny quick to 2001:db8:1:1::12 large-community 999:0:1

# do_not_announce_to_peers_with_rtt_lower_than 5 ms
deny to 2001:db8:1:1::12 community 64530:5
deny to 2001:db8:1:1::12 ext-community rt 64530:5
deny to 2001:db8:1:1::12 large-community 999:64530:5


# do_not_announce_to_peers_with_rtt_lower_than 10 ms
deny to 2001:db8:1:1::12 community 64530:10
deny to 2001:db8:1:1::12 ext-community rt 64530:10
deny to 2001:db8:1:1::12 large-community 999:64530:10


# do_not_announce_to_peers_with_rtt_lower_than 15 ms
deny to 2001:db8:1:1::12 community 64530:15
deny to 2001:db8:1:1::12 ext-community rt 64530:15
deny to 2001:db8:1:1::12 large-community 999:64530:15


# do_not_announce_to_peers_with_rtt_lower_than 20 ms
deny to 2001:db8:1:1::12 community 64530:20
deny to 2001:db8:1:1::12 ext-community rt 64530:20
deny to 2001:db8:1:1::12 large-community 999:64530:20


# do_not_announce_to_peers_with_rtt_lower_than 30 ms
deny to 2001:db8:1:1::12 community 64530:30
deny to 2001:db8:1:1::12 ext-community rt 64530:30
deny to 2001:db8:1:1::12 large-community 999:64530:30


# do_not_announce_to_peers_with_rtt_lower_than 50 ms
deny to 2001:db8:1:1::12 community 64530:50
deny to 2001:db8:1:1::12 ext-community rt 64530:50
deny to 2001:db8:1:1::12 large-community 999:64530:50


# do_not_announce_to_peers_with_rtt_lower_than 100 ms
deny to 2001:db8:1:1::12 community 64530:100
deny to 2001:db8:1:1::12 ext-community rt 64530:100
deny to 2001:db8:1:1::12 large-community 999:64530:100


# do_not_announce_to_peers_with_rtt_lower_than 200 ms
deny to 2001:db8:1:1::12 community 64530:200
deny to 2001:db8:1:1::12 ext-community rt 64530:200
deny to 2001:db8:1:1::12 large-community 999:64530:200


# do_not_announce_to_peers_with_rtt_lower_than 500 ms
deny to 2001:db8:1:1::12 community 64530:500
deny to 2001:db8:1:1::12 ext-community rt 64530:500
deny to 2001:db8:1:1::12 large-community 999:64530:500


# announce_to_peers_with_rtt_lower_than 5 ms
allow to 2001:db8:1:1::12 community 64532:5
allow to 2001:db8:1:1::12 ext-community rt 64532:5
allow to 2001:db8:1:1::12 large-community 999:64532:5


# announce_to_peers_with_rtt_lower_than 10 ms
allow to 2001:db8:1:1::12 community 64532:10
allow to 2001:db8:1:1::12 ext-community rt 64532:10
allow to 2001:db8:1:1::12 large-community 999:64532:10


# announce_to_peers_with_rtt_lower_than 15 ms
allow to 2001:db8:1:1::12 community 64532:15
allow to 2001:db8:1:1::12 ext-community rt 64532:15
allow to 2001:db8:1:1::12 large-community 999:64532:15


# announce_to_peers_with_rtt_lower_than 20 ms
allow to 2001:db8:1:1::12 community 64532:20
allow to 2001:db8:1:1::12 ext-community rt 64532:20
allow to 2001:db8:1:1::12 large-community 999:64532:20


# announce_to_peers_with_rtt_lower_than 30 ms
allow to 2001:db8:1:1::12 community 64532:30
allow to 2001:db8:1:1::12 ext-community rt 64532:30
allow to 2001:db8:1:1::12 large-community 999:64532:30


# announce_to_peers_with_rtt_lower_than 50 ms
allow to 2001:db8:1:1::12 community 64532:50
allow to 2001:db8:1:1::12 ext-community rt 64532:50
allow to 2001:db8:1:1::12 large-community 999:64532:50


# announce_to_peers_with_rtt_lower_than 100 ms
allow to 2001:db8:1:1::12 community 64532:100
allow to 2001:db8:1:1::12 ext-community rt 64532:100
allow to 2001:db8:1:1::12 large-community 999:64532:100


# announce_to_peers_with_rtt_lower_than 200 ms
allow to 2001:db8:1:1::12 community 64532:200
allow to 2001:db8:1:1::12 ext-community rt 64532:200
allow to 2001:db8:1:1::12 large-community 999:64532:200


# announce_to_peers_with_rtt_lower_than 500 ms
allow to 2001:db8:1:1::12 community 64532:500
allow to 2001:db8:1:1::12 ext-community rt 64532:500
allow to 2001:db8:1:1::12 large-community 999:64532:500


# announce_to_peer
allow to 2001:db8:1:1::12 community 65501:1
allow to 2001:db8:1:1::12 ext-community rt 65501:1
allow to 2001:db8:1:1::12 large-community 999:65501:1


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 65521:1 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 65521:1 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:65521:1 set prepend-neighbor 1

match to 2001:db8:1:1::12 community 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:65521:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 65522:1 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 65522:1 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:65522:1 set prepend-neighbor 2

match to 2001:db8:1:1::12 community 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:65522:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 65523:1 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 65523:1 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:65523:1 set prepend-neighbor 3

match to 2001:db8:1:1::12 community 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:65523:1 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_peers_with_rtt_lower_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:5 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:5 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:5 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:5 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:5 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:5 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:5 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:5 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:5 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:10 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:10 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:10 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:10 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:10 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:10 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:10 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:10 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:10 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:15 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:15 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:15 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:15 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:15 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:15 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:15 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:15 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:15 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:20 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:20 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:20 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:20 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:20 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:20 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:20 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:20 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:20 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:30 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:30 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:30 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:30 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:30 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:30 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:30 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:30 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:30 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:50 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:50 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:50 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:50 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:50 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:50 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:50 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:50 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:50 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:100 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:100 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:100 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:100 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:100 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:100 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:100 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:100 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:100 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:200 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:200 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:200 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:64534:500 set prepend-neighbor 1


match to 2001:db8:1:1::12 community 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:64535:500 set prepend-neighbor 2


match to 2001:db8:1:1::12 community 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:64536:500 set prepend-neighbor 3


match to 2001:db8:1:1::12 community 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::12 ext-community rt 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::12 large-community 999:65521:65521 set prepend-neighbor 1

match to 2001:db8:1:1::12 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::12 ext-community rt 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::12 large-community 999:65522:65522 set prepend-neighbor 2

match to 2001:db8:1:1::12 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::12 community 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::12 ext-community rt 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::12 large-community 999:65523:65523 set prepend-neighbor 3

match to 2001:db8:1:1::12 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::12 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:1 ext-community delete rt 65521:1 large-community delete 999:65521:1 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:1 ext-community delete rt 65523:1 large-community delete 999:65523:1 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:1 ext-community delete rt 65522:1 large-community delete 999:65522:1 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS222_1, inbound



# NEXT_HOP
match from 192.0.2.222 set community NO_ADVERTISE
match from 192.0.2.222 nexthop 192.0.2.222 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 192.0.2.222 community NO_ADVERTISE' - reject code: 5
allow quick from 192.0.2.222 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 192.0.2.222 peer-as != 222' - reject code: 6
allow quick from 192.0.2.222 peer-as != 222 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 192.0.2.222 AS 23456' - reject code: 7
allow quick from 192.0.2.222 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.222 AS 64496 - 131071' - reject code: 7
allow quick from 192.0.2.222 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.222 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 192.0.2.222 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 192.0.2.222 AS { 3, 174 }' - reject code: 8
allow quick from 192.0.2.222 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 192.0.2.222 AS { 666, 777 }' - reject code: 15
allow quick from 192.0.2.222 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}


# client's white list
# Add the $INTCOMM_ROUTE_OK_WL ext community to routes which
# are validated by a client's white list entry.
# It will be used later during IRRDB validation in
# case the route is not authorized by a client's
# AS-SET.
match from 192.0.2.222 prefix 222.1.1.0/24 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 192.0.2.222 prefix 3222:0:1::/48 set ext-community $INTCOMM_ROUTE_OK_WL	# None

match from 192.0.2.222 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS222_1, AS222: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.222 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS222 referenced but empty.
match from 192.0.2.222 source-as as-set AS_SET_AS_AS222_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS222


# Prefix: check prefix via AS-SET
# IRRDB filters for AS222_1, AS222: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.222 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS222 referenced but empty.
match from 192.0.2.222 prefix-set AS_SET_AS_AS222_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS222


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.222 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.222 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.222 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT

# route authorized by a client's white list?
match from 192.0.2.222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ROUTE_OK_WL set ext-community delete $INTCOMM_IRR_REJECT

# enforcing: origin ASN
# Reject inbound routes when 'from 192.0.2.222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 192.0.2.222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 192.0.2.222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 192.0.2.222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 192.0.2.222 set ext-community delete rt 65520:222


# Remove internal communities before accepting the route
match from 192.0.2.222 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.222 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.222 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 192.0.2.222 community BLACKHOLE
allow quick from 192.0.2.222 community 65534:0
allow quick from 192.0.2.222 large-community 65534:0:0


match from 192.0.2.222 set ext-community rt 65520:222


# RPKI-based Origin Validation
# Reject inbound routes when 'from 192.0.2.222 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 192.0.2.222 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 192.0.2.222 prefix 0.0.0.0/0 prefixlen 8 >< 24' - reject code: 13
allow quick from 192.0.2.222 prefix 0.0.0.0/0 prefixlen 8 >< 24 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 192.0.2.222 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 192.0.2.222 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 192.0.2.222 set ext-community delete rt 65520:222



allow quick from 192.0.2.222



# ---------------------------------------------
# client AS222_1, outbound

deny quick to 192.0.2.222 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 192.0.2.222 community 65534:0 set community BLACKHOLE
match to 192.0.2.222 large-community 65534:0:0 set community BLACKHOLE

match to 192.0.2.222 community BLACKHOLE set community NO_EXPORT
match to 192.0.2.222 community BLACKHOLE set nexthop 192.0.2.66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 192.0.2.222 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 192.0.2.222 community 65507:999 set community NO_EXPORT
match to 192.0.2.222 ext-community rt 65507:999 set community NO_EXPORT
match to 192.0.2.222 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 192.0.2.222 community 65508:999 set community NO_ADVERTISE
match to 192.0.2.222 ext-community rt 65508:999 set community NO_ADVERTISE
match to 192.0.2.222 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 192.0.2.222 community 65509:222 set community NO_EXPORT
match to 192.0.2.222 ext-community rt 65509:222 set community NO_EXPORT
match to 192.0.2.222 large-community 999:65509:222 set community NO_EXPORT

# add_noadvertise_to_peer
match to 192.0.2.222 community 65510:222 set community NO_ADVERTISE
match to 192.0.2.222 ext-community rt 65510:222 set community NO_ADVERTISE
match to 192.0.2.222 large-community 999:65510:222 set community NO_ADVERTISE


# BGP control communities
allow to 192.0.2.222

# do_not_announce_to_any
deny to 192.0.2.222 community 0:999
deny to 192.0.2.222 ext-community rt 0:999
deny to 192.0.2.222 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 192.0.2.222 community 0:222
deny quick to 192.0.2.222 ext-community rt 0:222
deny quick to 192.0.2.222 large-community 999:0:222

# announce_to_peer
allow to 192.0.2.222 community 65501:222
allow to 192.0.2.222 ext-community rt 65501:222
allow to 192.0.2.222 large-community 999:65501:222


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.222 community 65521:222 set prepend-neighbor 1
match to 192.0.2.222 ext-community rt 65521:222 set prepend-neighbor 1
match to 192.0.2.222 large-community 999:65521:222 set prepend-neighbor 1

match to 192.0.2.222 community 65521:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 ext-community rt 65521:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 large-community 999:65521:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.222 community 65522:222 set prepend-neighbor 2
match to 192.0.2.222 ext-community rt 65522:222 set prepend-neighbor 2
match to 192.0.2.222 large-community 999:65522:222 set prepend-neighbor 2

match to 192.0.2.222 community 65522:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 ext-community rt 65522:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 large-community 999:65522:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.222 community 65523:222 set prepend-neighbor 3
match to 192.0.2.222 ext-community rt 65523:222 set prepend-neighbor 3
match to 192.0.2.222 large-community 999:65523:222 set prepend-neighbor 3

match to 192.0.2.222 community 65523:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 ext-community rt 65523:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 large-community 999:65523:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.222 community 65521:65521 set prepend-neighbor 1
match to 192.0.2.222 ext-community rt 65521:65521 set prepend-neighbor 1
match to 192.0.2.222 large-community 999:65521:65521 set prepend-neighbor 1

match to 192.0.2.222 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.222 community 65522:65522 set prepend-neighbor 2
match to 192.0.2.222 ext-community rt 65522:65522 set prepend-neighbor 2
match to 192.0.2.222 large-community 999:65522:65522 set prepend-neighbor 2

match to 192.0.2.222 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.222 community 65523:65523 set prepend-neighbor 3
match to 192.0.2.222 ext-community rt 65523:65523 set prepend-neighbor 3
match to 192.0.2.222 large-community 999:65523:65523 set prepend-neighbor 3

match to 192.0.2.222 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.222 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS222_2, inbound



# NEXT_HOP
match from 2001:db8:1:1::222 set community NO_ADVERTISE
match from 2001:db8:1:1::222 nexthop 2001:db8:1:1::222 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 2001:db8:1:1::222 community NO_ADVERTISE' - reject code: 5
allow quick from 2001:db8:1:1::222 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 2001:db8:1:1::222 peer-as != 222' - reject code: 6
allow quick from 2001:db8:1:1::222 peer-as != 222 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 2001:db8:1:1::222 AS 23456' - reject code: 7
allow quick from 2001:db8:1:1::222 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::222 AS 64496 - 131071' - reject code: 7
allow quick from 2001:db8:1:1::222 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::222 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 2001:db8:1:1::222 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 2001:db8:1:1::222 AS { 3, 174 }' - reject code: 8
allow quick from 2001:db8:1:1::222 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 2001:db8:1:1::222 AS { 666, 777 }' - reject code: 15
allow quick from 2001:db8:1:1::222 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}


# client's white list
# Add the $INTCOMM_ROUTE_OK_WL ext community to routes which
# are validated by a client's white list entry.
# It will be used later during IRRDB validation in
# case the route is not authorized by a client's
# AS-SET.
match from 2001:db8:1:1::222 prefix 222.1.1.0/24 set ext-community $INTCOMM_ROUTE_OK_WL	# None
match from 2001:db8:1:1::222 prefix 3222:0:1::/48 set ext-community $INTCOMM_ROUTE_OK_WL	# None

match from 2001:db8:1:1::222 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS222_2, AS222: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::222 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS222 referenced but empty.
match from 2001:db8:1:1::222 source-as as-set AS_SET_AS_AS222_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS222


# Prefix: check prefix via AS-SET
# IRRDB filters for AS222_2, AS222: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::222 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS222 referenced but empty.
match from 2001:db8:1:1::222 prefix-set AS_SET_AS_AS222_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS222


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::222 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::222 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::222 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT

# route authorized by a client's white list?
match from 2001:db8:1:1::222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ROUTE_OK_WL set ext-community delete $INTCOMM_IRR_REJECT

# enforcing: origin ASN
# Reject inbound routes when 'from 2001:db8:1:1::222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 2001:db8:1:1::222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 2001:db8:1:1::222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 2001:db8:1:1::222 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 2001:db8:1:1::222 set ext-community delete rt 65520:222


# Remove internal communities before accepting the route
match from 2001:db8:1:1::222 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::222 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::222 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 2001:db8:1:1::222 community BLACKHOLE
allow quick from 2001:db8:1:1::222 community 65534:0
allow quick from 2001:db8:1:1::222 large-community 65534:0:0


match from 2001:db8:1:1::222 set ext-community rt 65520:222


# RPKI-based Origin Validation
# Reject inbound routes when 'from 2001:db8:1:1::222 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 2001:db8:1:1::222 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 2001:db8:1:1::222 prefix ::/0 prefixlen 17 >< 48' - reject code: 13
allow quick from 2001:db8:1:1::222 prefix ::/0 prefixlen 17 >< 48 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 2001:db8:1:1::222 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 2001:db8:1:1::222 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 2001:db8:1:1::222 set ext-community delete rt 65520:222



allow quick from 2001:db8:1:1::222



# ---------------------------------------------
# client AS222_2, outbound

deny quick to 2001:db8:1:1::222 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 2001:db8:1:1::222 community 65534:0 set community BLACKHOLE
match to 2001:db8:1:1::222 large-community 65534:0:0 set community BLACKHOLE

match to 2001:db8:1:1::222 community BLACKHOLE set community NO_EXPORT
match to 2001:db8:1:1::222 community BLACKHOLE set nexthop 2001:db8:1:1::66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 2001:db8:1:1::222 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 2001:db8:1:1::222 community 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::222 ext-community rt 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::222 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 2001:db8:1:1::222 community 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::222 ext-community rt 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::222 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 2001:db8:1:1::222 community 65509:222 set community NO_EXPORT
match to 2001:db8:1:1::222 ext-community rt 65509:222 set community NO_EXPORT
match to 2001:db8:1:1::222 large-community 999:65509:222 set community NO_EXPORT

# add_noadvertise_to_peer
match to 2001:db8:1:1::222 community 65510:222 set community NO_ADVERTISE
match to 2001:db8:1:1::222 ext-community rt 65510:222 set community NO_ADVERTISE
match to 2001:db8:1:1::222 large-community 999:65510:222 set community NO_ADVERTISE


# BGP control communities
allow to 2001:db8:1:1::222

# do_not_announce_to_any
deny to 2001:db8:1:1::222 community 0:999
deny to 2001:db8:1:1::222 ext-community rt 0:999
deny to 2001:db8:1:1::222 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 2001:db8:1:1::222 community 0:222
deny quick to 2001:db8:1:1::222 ext-community rt 0:222
deny quick to 2001:db8:1:1::222 large-community 999:0:222

# announce_to_peer
allow to 2001:db8:1:1::222 community 65501:222
allow to 2001:db8:1:1::222 ext-community rt 65501:222
allow to 2001:db8:1:1::222 large-community 999:65501:222


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::222 community 65521:222 set prepend-neighbor 1
match to 2001:db8:1:1::222 ext-community rt 65521:222 set prepend-neighbor 1
match to 2001:db8:1:1::222 large-community 999:65521:222 set prepend-neighbor 1

match to 2001:db8:1:1::222 community 65521:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 ext-community rt 65521:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 large-community 999:65521:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::222 community 65522:222 set prepend-neighbor 2
match to 2001:db8:1:1::222 ext-community rt 65522:222 set prepend-neighbor 2
match to 2001:db8:1:1::222 large-community 999:65522:222 set prepend-neighbor 2

match to 2001:db8:1:1::222 community 65522:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 ext-community rt 65522:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 large-community 999:65522:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::222 community 65523:222 set prepend-neighbor 3
match to 2001:db8:1:1::222 ext-community rt 65523:222 set prepend-neighbor 3
match to 2001:db8:1:1::222 large-community 999:65523:222 set prepend-neighbor 3

match to 2001:db8:1:1::222 community 65523:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 ext-community rt 65523:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 large-community 999:65523:222 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::222 community 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::222 ext-community rt 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::222 large-community 999:65521:65521 set prepend-neighbor 1

match to 2001:db8:1:1::222 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::222 community 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::222 ext-community rt 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::222 large-community 999:65522:65522 set prepend-neighbor 2

match to 2001:db8:1:1::222 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::222 community 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::222 ext-community rt 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::222 large-community 999:65523:65523 set prepend-neighbor 3

match to 2001:db8:1:1::222 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::222 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:222 ext-community delete rt 65521:222 large-community delete 999:65521:222 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:222 ext-community delete rt 65523:222 large-community delete 999:65523:222 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:222 ext-community delete rt 65522:222 large-community delete 999:65522:222 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS2_1, inbound



# NEXT_HOP
match from 192.0.2.21 set community NO_ADVERTISE
match from 192.0.2.21 nexthop 192.0.2.21 set community delete NO_ADVERTISE
match from 192.0.2.21 nexthop 192.0.2.22 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 192.0.2.21 community NO_ADVERTISE' - reject code: 5
allow quick from 192.0.2.21 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 192.0.2.21 peer-as != 2' - reject code: 6
allow quick from 192.0.2.21 peer-as != 2 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 192.0.2.21 AS 23456' - reject code: 7
allow quick from 192.0.2.21 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.21 AS 64496 - 131071' - reject code: 7
allow quick from 192.0.2.21 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.21 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 192.0.2.21 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 192.0.2.21 AS { 3, 174 }' - reject code: 8
allow quick from 192.0.2.21 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 192.0.2.21 AS { 666, 777 }' - reject code: 15
allow quick from 192.0.2.21 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}



match from 192.0.2.21 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS2_1, AS2: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.21 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS2 referenced but empty.
match from 192.0.2.21 source-as as-set AS_SET_AS_AS2_AS_AS2_CUSTOMERS_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS2_AS_AS2_CUSTOMERS


# Prefix: check prefix via AS-SET
# IRRDB filters for AS2_1, AS2: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 192.0.2.21 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS2 referenced but empty.
match from 192.0.2.21 prefix-set AS_SET_AS_AS2_AS_AS2_CUSTOMERS_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS2_AS_AS2_CUSTOMERS


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.21 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.21 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 192.0.2.21 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT


# enforcing: origin ASN
# Reject inbound routes when 'from 192.0.2.21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 192.0.2.21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 192.0.2.21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 192.0.2.21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 192.0.2.21 set ext-community delete rt 65520:2


# Remove internal communities before accepting the route
match from 192.0.2.21 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.21 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.21 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 192.0.2.21 community BLACKHOLE
allow quick from 192.0.2.21 community 65534:0
allow quick from 192.0.2.21 large-community 65534:0:0


match from 192.0.2.21 set ext-community rt 65520:2


# RPKI-based Origin Validation
# Reject inbound routes when 'from 192.0.2.21 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 192.0.2.21 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 192.0.2.21 prefix 0.0.0.0/0 prefixlen 8 >< 24' - reject code: 13
allow quick from 192.0.2.21 prefix 0.0.0.0/0 prefixlen 8 >< 24 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 192.0.2.21 community GRACEFUL_SHUTDOWN set community delete GRACEFUL_SHUTDOWN

# Remove internal communities before accepting the route
match from 192.0.2.21 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 192.0.2.21 set ext-community delete rt 65520:2



allow quick from 192.0.2.21



# ---------------------------------------------
# client AS2_1, outbound

deny quick to 192.0.2.21 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 192.0.2.21 community 65534:0 set community BLACKHOLE
match to 192.0.2.21 large-community 65534:0:0 set community BLACKHOLE

match to 192.0.2.21 community BLACKHOLE set community NO_EXPORT
match to 192.0.2.21 community BLACKHOLE set nexthop 192.0.2.66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 192.0.2.21 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 192.0.2.21 community 65507:999 set community NO_EXPORT
match to 192.0.2.21 ext-community rt 65507:999 set community NO_EXPORT
match to 192.0.2.21 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 192.0.2.21 community 65508:999 set community NO_ADVERTISE
match to 192.0.2.21 ext-community rt 65508:999 set community NO_ADVERTISE
match to 192.0.2.21 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 192.0.2.21 community 65509:2 set community NO_EXPORT
match to 192.0.2.21 ext-community rt 65509:2 set community NO_EXPORT
match to 192.0.2.21 large-community 999:65509:2 set community NO_EXPORT

# add_noadvertise_to_peer
match to 192.0.2.21 community 65510:2 set community NO_ADVERTISE
match to 192.0.2.21 ext-community rt 65510:2 set community NO_ADVERTISE
match to 192.0.2.21 large-community 999:65510:2 set community NO_ADVERTISE


# BGP control communities
allow to 192.0.2.21

# do_not_announce_to_any
deny to 192.0.2.21 community 0:999
deny to 192.0.2.21 ext-community rt 0:999
deny to 192.0.2.21 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 192.0.2.21 community 0:2
deny quick to 192.0.2.21 ext-community rt 0:2
deny quick to 192.0.2.21 large-community 999:0:2

# announce_to_peer
allow to 192.0.2.21 community 65501:2
allow to 192.0.2.21 ext-community rt 65501:2
allow to 192.0.2.21 large-community 999:65501:2


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.21 community 65521:2 set prepend-neighbor 1
match to 192.0.2.21 ext-community rt 65521:2 set prepend-neighbor 1
match to 192.0.2.21 large-community 999:65521:2 set prepend-neighbor 1

match to 192.0.2.21 community 65521:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 ext-community rt 65521:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 large-community 999:65521:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.21 community 65522:2 set prepend-neighbor 2
match to 192.0.2.21 ext-community rt 65522:2 set prepend-neighbor 2
match to 192.0.2.21 large-community 999:65522:2 set prepend-neighbor 2

match to 192.0.2.21 community 65522:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 ext-community rt 65522:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 large-community 999:65522:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.21 community 65523:2 set prepend-neighbor 3
match to 192.0.2.21 ext-community rt 65523:2 set prepend-neighbor 3
match to 192.0.2.21 large-community 999:65523:2 set prepend-neighbor 3

match to 192.0.2.21 community 65523:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 ext-community rt 65523:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 large-community 999:65523:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.21 community 65521:65521 set prepend-neighbor 1
match to 192.0.2.21 ext-community rt 65521:65521 set prepend-neighbor 1
match to 192.0.2.21 large-community 999:65521:65521 set prepend-neighbor 1

match to 192.0.2.21 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.21 community 65522:65522 set prepend-neighbor 2
match to 192.0.2.21 ext-community rt 65522:65522 set prepend-neighbor 2
match to 192.0.2.21 large-community 999:65522:65522 set prepend-neighbor 2

match to 192.0.2.21 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.21 community 65523:65523 set prepend-neighbor 3
match to 192.0.2.21 ext-community rt 65523:65523 set prepend-neighbor 3
match to 192.0.2.21 large-community 999:65523:65523 set prepend-neighbor 3

match to 192.0.2.21 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.21 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS2_2, inbound



# NEXT_HOP
match from 2001:db8:1:1::21 set community NO_ADVERTISE
match from 2001:db8:1:1::21 nexthop 2001:db8:1:1::21 set community delete NO_ADVERTISE
match from 2001:db8:1:1::21 nexthop 2001:db8:1:1::22 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 2001:db8:1:1::21 community NO_ADVERTISE' - reject code: 5
allow quick from 2001:db8:1:1::21 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 2001:db8:1:1::21 peer-as != 2' - reject code: 6
allow quick from 2001:db8:1:1::21 peer-as != 2 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 2001:db8:1:1::21 AS 23456' - reject code: 7
allow quick from 2001:db8:1:1::21 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::21 AS 64496 - 131071' - reject code: 7
allow quick from 2001:db8:1:1::21 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::21 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 2001:db8:1:1::21 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 2001:db8:1:1::21 AS { 3, 174 }' - reject code: 8
allow quick from 2001:db8:1:1::21 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 2001:db8:1:1::21 AS { 666, 777 }' - reject code: 15
allow quick from 2001:db8:1:1::21 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}



match from 2001:db8:1:1::21 set ext-community $INTCOMM_IRR_REJECT

# AS_PATH: check origin via AS-SET
# IRRDB filters for AS2_2, AS2: asns
# add $INTCOMM_ORIGIN_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::21 set ext-community $INTCOMM_ORIGIN_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS2 referenced but empty.
match from 2001:db8:1:1::21 source-as as-set AS_SET_AS_AS2_AS_AS2_CUSTOMERS_asns set { ext-community delete $INTCOMM_ORIGIN_KO ext-community $INTCOMM_ORIGIN_OK } # AS_AS2_AS_AS2_CUSTOMERS


# Prefix: check prefix via AS-SET
# IRRDB filters for AS2_2, AS2: prefixes
# add $INTCOMM_PREFIX_KO to any; it will be removed later if at least one AS-SET authorizes this object
match from 2001:db8:1:1::21 set ext-community $INTCOMM_PREFIX_KO
# verifying if object is authorized by AS-SETs
# AS-SET AS2 referenced but empty.
match from 2001:db8:1:1::21 prefix-set AS_SET_AS_AS2_AS_AS2_CUSTOMERS_prefixes set { ext-community delete $INTCOMM_PREFIX_KO ext-community $INTCOMM_PREFIX_OK } # AS_AS2_AS_AS2_CUSTOMERS


# routes tagged with $INTCOMM_PREF_OK_ROA community have the prefix validated by a ROA; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::21 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ROA set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_ARINDB community have the prefix validated by an ARIN Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::21 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_ARINDB set ext-community delete $INTCOMM_IRR_REJECT

# routes tagged with $INTCOMM_PREF_OK_REGISTROBRDB community have the prefix validated by a NICBR Whois record; origin ASN previously validated ($INTCOMM_ORIGIN_OK)
match from 2001:db8:1:1::21 ext-community $INTCOMM_ORIGIN_OK ext-community $INTCOMM_PREF_OK_REGISTROBRDB set ext-community delete $INTCOMM_IRR_REJECT


# enforcing: origin ASN
# Reject inbound routes when 'from 2001:db8:1:1::21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO' - reject code: 9
allow quick from 2001:db8:1:1::21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_ORIGIN_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:9}

# enforcing: prefix
# Reject inbound routes when 'from 2001:db8:1:1::21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO' - reject code: 12
allow quick from 2001:db8:1:1::21 ext-community $INTCOMM_IRR_REJECT ext-community $INTCOMM_PREFIX_KO set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:12}


# Blackhole request?
match from 2001:db8:1:1::21 set ext-community delete rt 65520:2


# Remove internal communities before accepting the route
match from 2001:db8:1:1::21 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::21 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::21 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 2001:db8:1:1::21 community BLACKHOLE
allow quick from 2001:db8:1:1::21 community 65534:0
allow quick from 2001:db8:1:1::21 large-community 65534:0:0


match from 2001:db8:1:1::21 set ext-community rt 65520:2


# RPKI-based Origin Validation
# Reject inbound routes when 'from 2001:db8:1:1::21 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 2001:db8:1:1::21 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 2001:db8:1:1::21 prefix ::/0 prefixlen 17 >< 48' - reject code: 13
allow quick from 2001:db8:1:1::21 prefix ::/0 prefixlen 17 >< 48 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 2001:db8:1:1::21 community GRACEFUL_SHUTDOWN set community delete GRACEFUL_SHUTDOWN

# Remove internal communities before accepting the route
match from 2001:db8:1:1::21 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 2001:db8:1:1::21 set ext-community delete rt 65520:2



allow quick from 2001:db8:1:1::21



# ---------------------------------------------
# client AS2_2, outbound

deny quick to 2001:db8:1:1::21 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 2001:db8:1:1::21 community 65534:0 set community BLACKHOLE
match to 2001:db8:1:1::21 large-community 65534:0:0 set community BLACKHOLE

match to 2001:db8:1:1::21 community BLACKHOLE set community NO_EXPORT
match to 2001:db8:1:1::21 community BLACKHOLE set nexthop 2001:db8:1:1::66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 2001:db8:1:1::21 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 2001:db8:1:1::21 community 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::21 ext-community rt 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::21 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 2001:db8:1:1::21 community 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::21 ext-community rt 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::21 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 2001:db8:1:1::21 community 65509:2 set community NO_EXPORT
match to 2001:db8:1:1::21 ext-community rt 65509:2 set community NO_EXPORT
match to 2001:db8:1:1::21 large-community 999:65509:2 set community NO_EXPORT

# add_noadvertise_to_peer
match to 2001:db8:1:1::21 community 65510:2 set community NO_ADVERTISE
match to 2001:db8:1:1::21 ext-community rt 65510:2 set community NO_ADVERTISE
match to 2001:db8:1:1::21 large-community 999:65510:2 set community NO_ADVERTISE


# BGP control communities
allow to 2001:db8:1:1::21

# do_not_announce_to_any
deny to 2001:db8:1:1::21 community 0:999
deny to 2001:db8:1:1::21 ext-community rt 0:999
deny to 2001:db8:1:1::21 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 2001:db8:1:1::21 community 0:2
deny quick to 2001:db8:1:1::21 ext-community rt 0:2
deny quick to 2001:db8:1:1::21 large-community 999:0:2

# do_not_announce_to_peers_with_rtt_lower_than 20 ms
deny to 2001:db8:1:1::21 community 64530:20
deny to 2001:db8:1:1::21 ext-community rt 64530:20
deny to 2001:db8:1:1::21 large-community 999:64530:20


# do_not_announce_to_peers_with_rtt_lower_than 30 ms
deny to 2001:db8:1:1::21 community 64530:30
deny to 2001:db8:1:1::21 ext-community rt 64530:30
deny to 2001:db8:1:1::21 large-community 999:64530:30


# do_not_announce_to_peers_with_rtt_lower_than 50 ms
deny to 2001:db8:1:1::21 community 64530:50
deny to 2001:db8:1:1::21 ext-community rt 64530:50
deny to 2001:db8:1:1::21 large-community 999:64530:50


# do_not_announce_to_peers_with_rtt_lower_than 100 ms
deny to 2001:db8:1:1::21 community 64530:100
deny to 2001:db8:1:1::21 ext-community rt 64530:100
deny to 2001:db8:1:1::21 large-community 999:64530:100


# do_not_announce_to_peers_with_rtt_lower_than 200 ms
deny to 2001:db8:1:1::21 community 64530:200
deny to 2001:db8:1:1::21 ext-community rt 64530:200
deny to 2001:db8:1:1::21 large-community 999:64530:200


# do_not_announce_to_peers_with_rtt_lower_than 500 ms
deny to 2001:db8:1:1::21 community 64530:500
deny to 2001:db8:1:1::21 ext-community rt 64530:500
deny to 2001:db8:1:1::21 large-community 999:64530:500


# announce_to_peers_with_rtt_lower_than 20 ms
allow to 2001:db8:1:1::21 community 64532:20
allow to 2001:db8:1:1::21 ext-community rt 64532:20
allow to 2001:db8:1:1::21 large-community 999:64532:20


# announce_to_peers_with_rtt_lower_than 30 ms
allow to 2001:db8:1:1::21 community 64532:30
allow to 2001:db8:1:1::21 ext-community rt 64532:30
allow to 2001:db8:1:1::21 large-community 999:64532:30


# announce_to_peers_with_rtt_lower_than 50 ms
allow to 2001:db8:1:1::21 community 64532:50
allow to 2001:db8:1:1::21 ext-community rt 64532:50
allow to 2001:db8:1:1::21 large-community 999:64532:50


# announce_to_peers_with_rtt_lower_than 100 ms
allow to 2001:db8:1:1::21 community 64532:100
allow to 2001:db8:1:1::21 ext-community rt 64532:100
allow to 2001:db8:1:1::21 large-community 999:64532:100


# announce_to_peers_with_rtt_lower_than 200 ms
allow to 2001:db8:1:1::21 community 64532:200
allow to 2001:db8:1:1::21 ext-community rt 64532:200
allow to 2001:db8:1:1::21 large-community 999:64532:200


# announce_to_peers_with_rtt_lower_than 500 ms
allow to 2001:db8:1:1::21 community 64532:500
allow to 2001:db8:1:1::21 ext-community rt 64532:500
allow to 2001:db8:1:1::21 large-community 999:64532:500


# do_not_announce_to_peers_with_rtt_higher_than 5 ms
deny to 2001:db8:1:1::21 community 64531:5
deny to 2001:db8:1:1::21 ext-community rt 64531:5
deny to 2001:db8:1:1::21 large-community 999:64531:5


# do_not_announce_to_peers_with_rtt_higher_than 10 ms
deny to 2001:db8:1:1::21 community 64531:10
deny to 2001:db8:1:1::21 ext-community rt 64531:10
deny to 2001:db8:1:1::21 large-community 999:64531:10


# do_not_announce_to_peers_with_rtt_higher_than 15 ms
deny to 2001:db8:1:1::21 community 64531:15
deny to 2001:db8:1:1::21 ext-community rt 64531:15
deny to 2001:db8:1:1::21 large-community 999:64531:15


# announce_to_peers_with_rtt_higher_than 5 ms
allow to 2001:db8:1:1::21 community 64533:5
allow to 2001:db8:1:1::21 ext-community rt 64533:5
allow to 2001:db8:1:1::21 large-community 999:64533:5


# announce_to_peers_with_rtt_higher_than 10 ms
allow to 2001:db8:1:1::21 community 64533:10
allow to 2001:db8:1:1::21 ext-community rt 64533:10
allow to 2001:db8:1:1::21 large-community 999:64533:10


# announce_to_peers_with_rtt_higher_than 15 ms
allow to 2001:db8:1:1::21 community 64533:15
allow to 2001:db8:1:1::21 ext-community rt 64533:15
allow to 2001:db8:1:1::21 large-community 999:64533:15


# announce_to_peer
allow to 2001:db8:1:1::21 community 65501:2
allow to 2001:db8:1:1::21 ext-community rt 65501:2
allow to 2001:db8:1:1::21 large-community 999:65501:2


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 65521:2 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 65521:2 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:65521:2 set prepend-neighbor 1

match to 2001:db8:1:1::21 community 65521:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 65521:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:65521:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 65522:2 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 65522:2 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:65522:2 set prepend-neighbor 2

match to 2001:db8:1:1::21 community 65522:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 65522:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:65522:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 65523:2 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 65523:2 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:65523:2 set prepend-neighbor 3

match to 2001:db8:1:1::21 community 65523:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 65523:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:65523:2 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64537:15 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64537:15 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64537:15 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64538:15 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64538:15 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64538:15 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64539:15 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64539:15 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64539:15 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64537:10 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64537:10 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64537:10 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64538:10 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64538:10 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64538:10 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64539:10 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64539:10 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64539:10 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64537:5 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64537:5 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64537:5 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64538:5 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64538:5 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64538:5 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64539:5 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64539:5 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64539:5 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64534:20 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64534:20 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64534:20 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64534:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64535:20 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64535:20 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64535:20 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64535:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64536:20 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64536:20 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64536:20 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64536:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64534:30 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64534:30 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64534:30 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64534:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64535:30 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64535:30 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64535:30 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64535:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64536:30 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64536:30 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64536:30 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64536:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64534:50 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64534:50 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64534:50 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64534:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64535:50 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64535:50 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64535:50 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64535:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64536:50 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64536:50 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64536:50 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64536:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64534:100 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64534:100 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64534:100 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64534:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64535:100 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64535:100 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64535:100 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64535:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64536:100 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64536:100 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64536:100 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64536:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64534:200 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64535:200 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64536:200 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:64534:500 set prepend-neighbor 1


match to 2001:db8:1:1::21 community 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:64535:500 set prepend-neighbor 2


match to 2001:db8:1:1::21 community 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:64536:500 set prepend-neighbor 3


match to 2001:db8:1:1::21 community 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::21 ext-community rt 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::21 large-community 999:65521:65521 set prepend-neighbor 1

match to 2001:db8:1:1::21 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::21 ext-community rt 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::21 large-community 999:65522:65522 set prepend-neighbor 2

match to 2001:db8:1:1::21 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::21 community 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::21 ext-community rt 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::21 large-community 999:65523:65523 set prepend-neighbor 3

match to 2001:db8:1:1::21 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::21 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:2 ext-community delete rt 65521:2 large-community delete 999:65521:2 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:2 ext-community delete rt 65523:2 large-community delete 999:65523:2 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:2 ext-community delete rt 65522:2 large-community delete 999:65522:2 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS3_1, inbound



# NEXT_HOP
match from 192.0.2.31 set community NO_ADVERTISE
match from 192.0.2.31 nexthop 192.0.2.31 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 192.0.2.31 community NO_ADVERTISE' - reject code: 5
allow quick from 192.0.2.31 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 192.0.2.31 peer-as != 3' - reject code: 6
allow quick from 192.0.2.31 peer-as != 3 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 192.0.2.31 AS 23456' - reject code: 7
allow quick from 192.0.2.31 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.31 AS 64496 - 131071' - reject code: 7
allow quick from 192.0.2.31 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.31 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 192.0.2.31 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 192.0.2.31 AS { 174 }' - reject code: 8
allow quick from 192.0.2.31 AS { 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 192.0.2.31 AS { 666, 777 }' - reject code: 15
allow quick from 192.0.2.31 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}





# Prefix: client's blacklist
prefix-set "client_AS3_1_black_list_pref_ipv4" {
    3.0.1.0/24 prefixlen 24 - 32

}
# Reject inbound routes when 'from 192.0.2.31 prefix-set client_AS3_1_black_list_pref_ipv4' - reject code: 11
allow quick from 192.0.2.31 prefix-set client_AS3_1_black_list_pref_ipv4 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:11}




# Blackhole request?
match from 192.0.2.31 set ext-community delete rt 65520:3


# Remove internal communities before accepting the route
match from 192.0.2.31 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.31 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.31 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 192.0.2.31 community BLACKHOLE
allow quick from 192.0.2.31 community 65534:0
allow quick from 192.0.2.31 large-community 65534:0:0


match from 192.0.2.31 set ext-community rt 65520:3


# RPKI-based Origin Validation
# Reject inbound routes when 'from 192.0.2.31 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 192.0.2.31 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 192.0.2.31 prefix 0.0.0.0/0 prefixlen 8 >< 24' - reject code: 13
allow quick from 192.0.2.31 prefix 0.0.0.0/0 prefixlen 8 >< 24 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 192.0.2.31 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 192.0.2.31 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 192.0.2.31 set ext-community delete rt 65520:3



allow quick from 192.0.2.31



# ---------------------------------------------
# client AS3_1, outbound

deny quick to 192.0.2.31 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 192.0.2.31 community 65534:0 set community BLACKHOLE
match to 192.0.2.31 large-community 65534:0:0 set community BLACKHOLE

match to 192.0.2.31 community BLACKHOLE set community NO_EXPORT
match to 192.0.2.31 community BLACKHOLE set nexthop 192.0.2.66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 192.0.2.31 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 192.0.2.31 community 65507:999 set community NO_EXPORT
match to 192.0.2.31 ext-community rt 65507:999 set community NO_EXPORT
match to 192.0.2.31 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 192.0.2.31 community 65508:999 set community NO_ADVERTISE
match to 192.0.2.31 ext-community rt 65508:999 set community NO_ADVERTISE
match to 192.0.2.31 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 192.0.2.31 community 65509:3 set community NO_EXPORT
match to 192.0.2.31 ext-community rt 65509:3 set community NO_EXPORT
match to 192.0.2.31 large-community 999:65509:3 set community NO_EXPORT

# add_noadvertise_to_peer
match to 192.0.2.31 community 65510:3 set community NO_ADVERTISE
match to 192.0.2.31 ext-community rt 65510:3 set community NO_ADVERTISE
match to 192.0.2.31 large-community 999:65510:3 set community NO_ADVERTISE


# BGP control communities
allow to 192.0.2.31

# do_not_announce_to_any
deny to 192.0.2.31 community 0:999
deny to 192.0.2.31 ext-community rt 0:999
deny to 192.0.2.31 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 192.0.2.31 community 0:3
deny quick to 192.0.2.31 ext-community rt 0:3
deny quick to 192.0.2.31 large-community 999:0:3

# announce_to_peer
allow to 192.0.2.31 community 65501:3
allow to 192.0.2.31 ext-community rt 65501:3
allow to 192.0.2.31 large-community 999:65501:3


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.31 community 65521:3 set prepend-neighbor 1
match to 192.0.2.31 ext-community rt 65521:3 set prepend-neighbor 1
match to 192.0.2.31 large-community 999:65521:3 set prepend-neighbor 1

match to 192.0.2.31 community 65521:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 ext-community rt 65521:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 large-community 999:65521:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.31 community 65522:3 set prepend-neighbor 2
match to 192.0.2.31 ext-community rt 65522:3 set prepend-neighbor 2
match to 192.0.2.31 large-community 999:65522:3 set prepend-neighbor 2

match to 192.0.2.31 community 65522:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 ext-community rt 65522:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 large-community 999:65522:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.31 community 65523:3 set prepend-neighbor 3
match to 192.0.2.31 ext-community rt 65523:3 set prepend-neighbor 3
match to 192.0.2.31 large-community 999:65523:3 set prepend-neighbor 3

match to 192.0.2.31 community 65523:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 ext-community rt 65523:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 large-community 999:65523:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.31 community 65521:65521 set prepend-neighbor 1
match to 192.0.2.31 ext-community rt 65521:65521 set prepend-neighbor 1
match to 192.0.2.31 large-community 999:65521:65521 set prepend-neighbor 1

match to 192.0.2.31 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.31 community 65522:65522 set prepend-neighbor 2
match to 192.0.2.31 ext-community rt 65522:65522 set prepend-neighbor 2
match to 192.0.2.31 large-community 999:65522:65522 set prepend-neighbor 2

match to 192.0.2.31 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.31 community 65523:65523 set prepend-neighbor 3
match to 192.0.2.31 ext-community rt 65523:65523 set prepend-neighbor 3
match to 192.0.2.31 large-community 999:65523:65523 set prepend-neighbor 3

match to 192.0.2.31 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.31 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS3_2, inbound



# NEXT_HOP
match from 2001:db8:1:1::31 set community NO_ADVERTISE
match from 2001:db8:1:1::31 nexthop 2001:db8:1:1::31 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 2001:db8:1:1::31 community NO_ADVERTISE' - reject code: 5
allow quick from 2001:db8:1:1::31 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 2001:db8:1:1::31 peer-as != 3' - reject code: 6
allow quick from 2001:db8:1:1::31 peer-as != 3 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 2001:db8:1:1::31 AS 23456' - reject code: 7
allow quick from 2001:db8:1:1::31 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::31 AS 64496 - 131071' - reject code: 7
allow quick from 2001:db8:1:1::31 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::31 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 2001:db8:1:1::31 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 2001:db8:1:1::31 AS { 174 }' - reject code: 8
allow quick from 2001:db8:1:1::31 AS { 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 2001:db8:1:1::31 AS { 666, 777 }' - reject code: 15
allow quick from 2001:db8:1:1::31 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}





# Prefix: client's blacklist
prefix-set "client_AS3_2_black_list_pref_ipv6" {
    2a03:0:1::/48 prefixlen 48 - 128

}
# Reject inbound routes when 'from 2001:db8:1:1::31 prefix-set client_AS3_2_black_list_pref_ipv6' - reject code: 11
allow quick from 2001:db8:1:1::31 prefix-set client_AS3_2_black_list_pref_ipv6 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:11}




# Blackhole request?
match from 2001:db8:1:1::31 set ext-community delete rt 65520:3


# Remove internal communities before accepting the route
match from 2001:db8:1:1::31 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::31 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::31 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 2001:db8:1:1::31 community BLACKHOLE
allow quick from 2001:db8:1:1::31 community 65534:0
allow quick from 2001:db8:1:1::31 large-community 65534:0:0


match from 2001:db8:1:1::31 set ext-community rt 65520:3


# RPKI-based Origin Validation
# Reject inbound routes when 'from 2001:db8:1:1::31 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 2001:db8:1:1::31 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 2001:db8:1:1::31 prefix ::/0 prefixlen 17 >< 48' - reject code: 13
allow quick from 2001:db8:1:1::31 prefix ::/0 prefixlen 17 >< 48 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 2001:db8:1:1::31 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 2001:db8:1:1::31 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 2001:db8:1:1::31 set ext-community delete rt 65520:3



allow quick from 2001:db8:1:1::31



# ---------------------------------------------
# client AS3_2, outbound

deny quick to 2001:db8:1:1::31 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 2001:db8:1:1::31 community 65534:0 set community BLACKHOLE
match to 2001:db8:1:1::31 large-community 65534:0:0 set community BLACKHOLE

match to 2001:db8:1:1::31 community BLACKHOLE set community NO_EXPORT
match to 2001:db8:1:1::31 community BLACKHOLE set nexthop 2001:db8:1:1::66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 2001:db8:1:1::31 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 2001:db8:1:1::31 community 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::31 ext-community rt 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::31 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 2001:db8:1:1::31 community 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::31 ext-community rt 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::31 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 2001:db8:1:1::31 community 65509:3 set community NO_EXPORT
match to 2001:db8:1:1::31 ext-community rt 65509:3 set community NO_EXPORT
match to 2001:db8:1:1::31 large-community 999:65509:3 set community NO_EXPORT

# add_noadvertise_to_peer
match to 2001:db8:1:1::31 community 65510:3 set community NO_ADVERTISE
match to 2001:db8:1:1::31 ext-community rt 65510:3 set community NO_ADVERTISE
match to 2001:db8:1:1::31 large-community 999:65510:3 set community NO_ADVERTISE


# BGP control communities
allow to 2001:db8:1:1::31

# do_not_announce_to_any
deny to 2001:db8:1:1::31 community 0:999
deny to 2001:db8:1:1::31 ext-community rt 0:999
deny to 2001:db8:1:1::31 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 2001:db8:1:1::31 community 0:3
deny quick to 2001:db8:1:1::31 ext-community rt 0:3
deny quick to 2001:db8:1:1::31 large-community 999:0:3

# do_not_announce_to_peers_with_rtt_lower_than 200 ms
deny to 2001:db8:1:1::31 community 64530:200
deny to 2001:db8:1:1::31 ext-community rt 64530:200
deny to 2001:db8:1:1::31 large-community 999:64530:200


# do_not_announce_to_peers_with_rtt_lower_than 500 ms
deny to 2001:db8:1:1::31 community 64530:500
deny to 2001:db8:1:1::31 ext-community rt 64530:500
deny to 2001:db8:1:1::31 large-community 999:64530:500


# announce_to_peers_with_rtt_lower_than 200 ms
allow to 2001:db8:1:1::31 community 64532:200
allow to 2001:db8:1:1::31 ext-community rt 64532:200
allow to 2001:db8:1:1::31 large-community 999:64532:200


# announce_to_peers_with_rtt_lower_than 500 ms
allow to 2001:db8:1:1::31 community 64532:500
allow to 2001:db8:1:1::31 ext-community rt 64532:500
allow to 2001:db8:1:1::31 large-community 999:64532:500


# do_not_announce_to_peers_with_rtt_higher_than 5 ms
deny to 2001:db8:1:1::31 community 64531:5
deny to 2001:db8:1:1::31 ext-community rt 64531:5
deny to 2001:db8:1:1::31 large-community 999:64531:5


# do_not_announce_to_peers_with_rtt_higher_than 10 ms
deny to 2001:db8:1:1::31 community 64531:10
deny to 2001:db8:1:1::31 ext-community rt 64531:10
deny to 2001:db8:1:1::31 large-community 999:64531:10


# do_not_announce_to_peers_with_rtt_higher_than 15 ms
deny to 2001:db8:1:1::31 community 64531:15
deny to 2001:db8:1:1::31 ext-community rt 64531:15
deny to 2001:db8:1:1::31 large-community 999:64531:15


# do_not_announce_to_peers_with_rtt_higher_than 20 ms
deny to 2001:db8:1:1::31 community 64531:20
deny to 2001:db8:1:1::31 ext-community rt 64531:20
deny to 2001:db8:1:1::31 large-community 999:64531:20


# do_not_announce_to_peers_with_rtt_higher_than 30 ms
deny to 2001:db8:1:1::31 community 64531:30
deny to 2001:db8:1:1::31 ext-community rt 64531:30
deny to 2001:db8:1:1::31 large-community 999:64531:30


# do_not_announce_to_peers_with_rtt_higher_than 50 ms
deny to 2001:db8:1:1::31 community 64531:50
deny to 2001:db8:1:1::31 ext-community rt 64531:50
deny to 2001:db8:1:1::31 large-community 999:64531:50


# do_not_announce_to_peers_with_rtt_higher_than 100 ms
deny to 2001:db8:1:1::31 community 64531:100
deny to 2001:db8:1:1::31 ext-community rt 64531:100
deny to 2001:db8:1:1::31 large-community 999:64531:100


# announce_to_peers_with_rtt_higher_than 5 ms
allow to 2001:db8:1:1::31 community 64533:5
allow to 2001:db8:1:1::31 ext-community rt 64533:5
allow to 2001:db8:1:1::31 large-community 999:64533:5


# announce_to_peers_with_rtt_higher_than 10 ms
allow to 2001:db8:1:1::31 community 64533:10
allow to 2001:db8:1:1::31 ext-community rt 64533:10
allow to 2001:db8:1:1::31 large-community 999:64533:10


# announce_to_peers_with_rtt_higher_than 15 ms
allow to 2001:db8:1:1::31 community 64533:15
allow to 2001:db8:1:1::31 ext-community rt 64533:15
allow to 2001:db8:1:1::31 large-community 999:64533:15


# announce_to_peers_with_rtt_higher_than 20 ms
allow to 2001:db8:1:1::31 community 64533:20
allow to 2001:db8:1:1::31 ext-community rt 64533:20
allow to 2001:db8:1:1::31 large-community 999:64533:20


# announce_to_peers_with_rtt_higher_than 30 ms
allow to 2001:db8:1:1::31 community 64533:30
allow to 2001:db8:1:1::31 ext-community rt 64533:30
allow to 2001:db8:1:1::31 large-community 999:64533:30


# announce_to_peers_with_rtt_higher_than 50 ms
allow to 2001:db8:1:1::31 community 64533:50
allow to 2001:db8:1:1::31 ext-community rt 64533:50
allow to 2001:db8:1:1::31 large-community 999:64533:50


# announce_to_peers_with_rtt_higher_than 100 ms
allow to 2001:db8:1:1::31 community 64533:100
allow to 2001:db8:1:1::31 ext-community rt 64533:100
allow to 2001:db8:1:1::31 large-community 999:64533:100


# announce_to_peer
allow to 2001:db8:1:1::31 community 65501:3
allow to 2001:db8:1:1::31 ext-community rt 65501:3
allow to 2001:db8:1:1::31 large-community 999:65501:3


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 65521:3 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 65521:3 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:65521:3 set prepend-neighbor 1

match to 2001:db8:1:1::31 community 65521:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 65521:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:65521:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 65522:3 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 65522:3 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:65522:3 set prepend-neighbor 2

match to 2001:db8:1:1::31 community 65522:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 65522:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:65522:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 65523:3 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 65523:3 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:65523:3 set prepend-neighbor 3

match to 2001:db8:1:1::31 community 65523:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 65523:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:65523:3 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_peers_with_rtt_higher_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:100 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:100 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:100 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:100 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:100 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:100 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:100 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:100 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:100 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:50 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:50 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:50 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:50 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:50 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:50 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:50 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:50 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:50 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:30 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:30 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:30 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:30 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:30 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:30 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:30 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:30 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:30 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:20 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:20 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:20 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:20 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:20 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:20 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:20 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:20 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:20 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:15 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:15 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:15 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:15 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:15 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:15 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:15 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:15 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:15 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:10 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:10 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:10 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:10 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:10 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:10 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:10 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:10 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:10 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64537:5 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64537:5 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64537:5 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64538:5 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64538:5 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64538:5 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64539:5 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64539:5 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64539:5 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64534:200 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64534:200 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64534:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64535:200 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64535:200 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64535:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64536:200 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64536:200 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64536:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 64534:500 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:64534:500 set prepend-neighbor 1


match to 2001:db8:1:1::31 community 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64534:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 64535:500 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:64535:500 set prepend-neighbor 2


match to 2001:db8:1:1::31 community 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64535:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_lower_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 64536:500 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:64536:500 set prepend-neighbor 3


match to 2001:db8:1:1::31 community 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:64536:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::31 ext-community rt 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::31 large-community 999:65521:65521 set prepend-neighbor 1

match to 2001:db8:1:1::31 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::31 ext-community rt 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::31 large-community 999:65522:65522 set prepend-neighbor 2

match to 2001:db8:1:1::31 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::31 community 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::31 ext-community rt 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::31 large-community 999:65523:65523 set prepend-neighbor 3

match to 2001:db8:1:1::31 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::31 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:3 ext-community delete rt 65521:3 large-community delete 999:65521:3 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:3 ext-community delete rt 65523:3 large-community delete 999:65523:3 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:3 ext-community delete rt 65522:3 large-community delete 999:65522:3 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS4_1, inbound



# NEXT_HOP
match from 192.0.2.41 set community NO_ADVERTISE
match from 192.0.2.41 nexthop 192.0.2.41 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 192.0.2.41 community NO_ADVERTISE' - reject code: 5
allow quick from 192.0.2.41 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 192.0.2.41 peer-as != 4' - reject code: 6
allow quick from 192.0.2.41 peer-as != 4 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 192.0.2.41 AS 23456' - reject code: 7
allow quick from 192.0.2.41 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.41 AS 64496 - 131071' - reject code: 7
allow quick from 192.0.2.41 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 192.0.2.41 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 192.0.2.41 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 192.0.2.41 AS { 3, 174 }' - reject code: 8
allow quick from 192.0.2.41 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 192.0.2.41 AS { 666, 777 }' - reject code: 15
allow quick from 192.0.2.41 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}








# Blackhole request?
match from 192.0.2.41 set ext-community delete rt 65520:4


# Remove internal communities before accepting the route
match from 192.0.2.41 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.41 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 192.0.2.41 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 192.0.2.41 community BLACKHOLE
allow quick from 192.0.2.41 community 65534:0
allow quick from 192.0.2.41 large-community 65534:0:0


match from 192.0.2.41 set ext-community rt 65520:4


# RPKI-based Origin Validation
# Reject inbound routes when 'from 192.0.2.41 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 192.0.2.41 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 192.0.2.41 prefix 0.0.0.0/0 prefixlen 8 >< 24' - reject code: 13
allow quick from 192.0.2.41 prefix 0.0.0.0/0 prefixlen 8 >< 24 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 192.0.2.41 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 192.0.2.41 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 192.0.2.41 set ext-community delete rt 65520:4



allow quick from 192.0.2.41



# ---------------------------------------------
# client AS4_1, outbound

deny quick to 192.0.2.41 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 192.0.2.41 community 65534:0 set community BLACKHOLE
match to 192.0.2.41 large-community 65534:0:0 set community BLACKHOLE

match to 192.0.2.41 community BLACKHOLE set community NO_EXPORT
match to 192.0.2.41 community BLACKHOLE set nexthop 192.0.2.66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 192.0.2.41 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 192.0.2.41 community 65507:999 set community NO_EXPORT
match to 192.0.2.41 ext-community rt 65507:999 set community NO_EXPORT
match to 192.0.2.41 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 192.0.2.41 community 65508:999 set community NO_ADVERTISE
match to 192.0.2.41 ext-community rt 65508:999 set community NO_ADVERTISE
match to 192.0.2.41 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 192.0.2.41 community 65509:4 set community NO_EXPORT
match to 192.0.2.41 ext-community rt 65509:4 set community NO_EXPORT
match to 192.0.2.41 large-community 999:65509:4 set community NO_EXPORT

# add_noadvertise_to_peer
match to 192.0.2.41 community 65510:4 set community NO_ADVERTISE
match to 192.0.2.41 ext-community rt 65510:4 set community NO_ADVERTISE
match to 192.0.2.41 large-community 999:65510:4 set community NO_ADVERTISE


# BGP control communities
allow to 192.0.2.41

# do_not_announce_to_any
deny to 192.0.2.41 community 0:999
deny to 192.0.2.41 ext-community rt 0:999
deny to 192.0.2.41 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 192.0.2.41 community 0:4
deny quick to 192.0.2.41 ext-community rt 0:4
deny quick to 192.0.2.41 large-community 999:0:4

# announce_to_peer
allow to 192.0.2.41 community 65501:4
allow to 192.0.2.41 ext-community rt 65501:4
allow to 192.0.2.41 large-community 999:65501:4


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.41 community 65521:4 set prepend-neighbor 1
match to 192.0.2.41 ext-community rt 65521:4 set prepend-neighbor 1
match to 192.0.2.41 large-community 999:65521:4 set prepend-neighbor 1

match to 192.0.2.41 community 65521:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 ext-community rt 65521:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 large-community 999:65521:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.41 community 65522:4 set prepend-neighbor 2
match to 192.0.2.41 ext-community rt 65522:4 set prepend-neighbor 2
match to 192.0.2.41 large-community 999:65522:4 set prepend-neighbor 2

match to 192.0.2.41 community 65522:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 ext-community rt 65522:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 large-community 999:65522:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 192.0.2.41 community 65523:4 set prepend-neighbor 3
match to 192.0.2.41 ext-community rt 65523:4 set prepend-neighbor 3
match to 192.0.2.41 large-community 999:65523:4 set prepend-neighbor 3

match to 192.0.2.41 community 65523:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 ext-community rt 65523:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 large-community 999:65523:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.41 community 65521:65521 set prepend-neighbor 1
match to 192.0.2.41 ext-community rt 65521:65521 set prepend-neighbor 1
match to 192.0.2.41 large-community 999:65521:65521 set prepend-neighbor 1

match to 192.0.2.41 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.41 community 65522:65522 set prepend-neighbor 2
match to 192.0.2.41 ext-community rt 65522:65522 set prepend-neighbor 2
match to 192.0.2.41 large-community 999:65522:65522 set prepend-neighbor 2

match to 192.0.2.41 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 192.0.2.41 community 65523:65523 set prepend-neighbor 3
match to 192.0.2.41 ext-community rt 65523:65523 set prepend-neighbor 3
match to 192.0.2.41 large-community 999:65523:65523 set prepend-neighbor 3

match to 192.0.2.41 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 192.0.2.41 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }




# ---------------------------------------------
# client AS4_2, inbound



# NEXT_HOP
match from 2001:db8:1:1::41 set community NO_ADVERTISE
match from 2001:db8:1:1::41 nexthop 2001:db8:1:1::41 set community delete NO_ADVERTISE
# Reject inbound routes when 'from 2001:db8:1:1::41 community NO_ADVERTISE' - reject code: 5
allow quick from 2001:db8:1:1::41 community NO_ADVERTISE set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:5}


# AS_PATH: left-most ASN
# Reject inbound routes when 'from 2001:db8:1:1::41 peer-as != 4' - reject code: 6
allow quick from 2001:db8:1:1::41 peer-as != 4 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:6}


# AS_PATH: invalid ASNs
# Reject inbound routes when 'from 2001:db8:1:1::41 AS 23456' - reject code: 7
allow quick from 2001:db8:1:1::41 AS 23456 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::41 AS 64496 - 131071' - reject code: 7
allow quick from 2001:db8:1:1::41 AS 64496 - 131071 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}

# Reject inbound routes when 'from 2001:db8:1:1::41 AS 4200000000 - 4294967295' - reject code: 7
allow quick from 2001:db8:1:1::41 AS 4200000000 - 4294967295 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:7}


# AS_PATH: transit-free ASNs
# Reject inbound routes when 'from 2001:db8:1:1::41 AS { 3, 174 }' - reject code: 8
allow quick from 2001:db8:1:1::41 AS { 3, 174 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:8}


# AS_PATH: never via route-servers ASNs
# Reject inbound routes when 'from 2001:db8:1:1::41 AS { 666, 777 }' - reject code: 15
allow quick from 2001:db8:1:1::41 AS { 666, 777 } set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:15}








# Blackhole request?
match from 2001:db8:1:1::41 set ext-community delete rt 65520:4


# Remove internal communities before accepting the route
match from 2001:db8:1:1::41 community BLACKHOLE set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::41 community 65534:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }
allow from 2001:db8:1:1::41 large-community 65534:0:0 set {ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }


allow quick from 2001:db8:1:1::41 community BLACKHOLE
allow quick from 2001:db8:1:1::41 community 65534:0
allow quick from 2001:db8:1:1::41 large-community 65534:0:0


match from 2001:db8:1:1::41 set ext-community rt 65520:4


# RPKI-based Origin Validation
# Reject inbound routes when 'from 2001:db8:1:1::41 ext-community $INTCOMM_RPKI_INVALID' - reject code: 14
allow quick from 2001:db8:1:1::41 ext-community $INTCOMM_RPKI_INVALID set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:14}


# Prefix: length
# Reject inbound routes when 'from 2001:db8:1:1::41 prefix ::/0 prefixlen 17 >< 48' - reject code: 13
allow quick from 2001:db8:1:1::41 prefix ::/0 prefixlen 17 >< 48 set { localpref 1 community delete NO_ADVERTISE ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  community 65520:0 community 65520:13}


# Graceful shutdown
match from 2001:db8:1:1::41 community GRACEFUL_SHUTDOWN set localpref 5

# Remove internal communities before accepting the route
match from 2001:db8:1:1::41 set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  }

match from 2001:db8:1:1::41 set ext-community delete rt 65520:4



allow quick from 2001:db8:1:1::41



# ---------------------------------------------
# client AS4_2, outbound

deny quick to 2001:db8:1:1::41 community 65520:0



# Blackhole request?
# Configured policy: rewrite-next-hop
match to 2001:db8:1:1::41 community 65534:0 set community BLACKHOLE
match to 2001:db8:1:1::41 large-community 65534:0:0 set community BLACKHOLE

match to 2001:db8:1:1::41 community BLACKHOLE set community NO_EXPORT
match to 2001:db8:1:1::41 community BLACKHOLE set nexthop 2001:db8:1:1::66


# RPKI-based Origin Validation
# Do not announce INVALID to clients
deny quick to 2001:db8:1:1::41 ext-community $INTCOMM_RPKI_INVALID

# NO_EXPORT and NO_ADVERTISE communities
# add_noexport_to_any
match to 2001:db8:1:1::41 community 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::41 ext-community rt 65507:999 set community NO_EXPORT
match to 2001:db8:1:1::41 large-community 999:65507:999 set community NO_EXPORT

# add_noadvertise_to_any
match to 2001:db8:1:1::41 community 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::41 ext-community rt 65508:999 set community NO_ADVERTISE
match to 2001:db8:1:1::41 large-community 999:65508:999 set community NO_ADVERTISE

# add_noexport_to_peer
match to 2001:db8:1:1::41 community 65509:4 set community NO_EXPORT
match to 2001:db8:1:1::41 ext-community rt 65509:4 set community NO_EXPORT
match to 2001:db8:1:1::41 large-community 999:65509:4 set community NO_EXPORT

# add_noadvertise_to_peer
match to 2001:db8:1:1::41 community 65510:4 set community NO_ADVERTISE
match to 2001:db8:1:1::41 ext-community rt 65510:4 set community NO_ADVERTISE
match to 2001:db8:1:1::41 large-community 999:65510:4 set community NO_ADVERTISE


# BGP control communities
allow to 2001:db8:1:1::41

# do_not_announce_to_any
deny to 2001:db8:1:1::41 community 0:999
deny to 2001:db8:1:1::41 ext-community rt 0:999
deny to 2001:db8:1:1::41 large-community 999:0:999

# do_not_announce_to_peer
deny quick to 2001:db8:1:1::41 community 0:4
deny quick to 2001:db8:1:1::41 ext-community rt 0:4
deny quick to 2001:db8:1:1::41 large-community 999:0:4

# do_not_announce_to_peers_with_rtt_higher_than 5 ms
deny to 2001:db8:1:1::41 community 64531:5
deny to 2001:db8:1:1::41 ext-community rt 64531:5
deny to 2001:db8:1:1::41 large-community 999:64531:5


# do_not_announce_to_peers_with_rtt_higher_than 10 ms
deny to 2001:db8:1:1::41 community 64531:10
deny to 2001:db8:1:1::41 ext-community rt 64531:10
deny to 2001:db8:1:1::41 large-community 999:64531:10


# do_not_announce_to_peers_with_rtt_higher_than 15 ms
deny to 2001:db8:1:1::41 community 64531:15
deny to 2001:db8:1:1::41 ext-community rt 64531:15
deny to 2001:db8:1:1::41 large-community 999:64531:15


# do_not_announce_to_peers_with_rtt_higher_than 20 ms
deny to 2001:db8:1:1::41 community 64531:20
deny to 2001:db8:1:1::41 ext-community rt 64531:20
deny to 2001:db8:1:1::41 large-community 999:64531:20


# do_not_announce_to_peers_with_rtt_higher_than 30 ms
deny to 2001:db8:1:1::41 community 64531:30
deny to 2001:db8:1:1::41 ext-community rt 64531:30
deny to 2001:db8:1:1::41 large-community 999:64531:30


# do_not_announce_to_peers_with_rtt_higher_than 50 ms
deny to 2001:db8:1:1::41 community 64531:50
deny to 2001:db8:1:1::41 ext-community rt 64531:50
deny to 2001:db8:1:1::41 large-community 999:64531:50


# do_not_announce_to_peers_with_rtt_higher_than 100 ms
deny to 2001:db8:1:1::41 community 64531:100
deny to 2001:db8:1:1::41 ext-community rt 64531:100
deny to 2001:db8:1:1::41 large-community 999:64531:100


# do_not_announce_to_peers_with_rtt_higher_than 200 ms
deny to 2001:db8:1:1::41 community 64531:200
deny to 2001:db8:1:1::41 ext-community rt 64531:200
deny to 2001:db8:1:1::41 large-community 999:64531:200


# do_not_announce_to_peers_with_rtt_higher_than 500 ms
deny to 2001:db8:1:1::41 community 64531:500
deny to 2001:db8:1:1::41 ext-community rt 64531:500
deny to 2001:db8:1:1::41 large-community 999:64531:500


# announce_to_peers_with_rtt_higher_than 5 ms
allow to 2001:db8:1:1::41 community 64533:5
allow to 2001:db8:1:1::41 ext-community rt 64533:5
allow to 2001:db8:1:1::41 large-community 999:64533:5


# announce_to_peers_with_rtt_higher_than 10 ms
allow to 2001:db8:1:1::41 community 64533:10
allow to 2001:db8:1:1::41 ext-community rt 64533:10
allow to 2001:db8:1:1::41 large-community 999:64533:10


# announce_to_peers_with_rtt_higher_than 15 ms
allow to 2001:db8:1:1::41 community 64533:15
allow to 2001:db8:1:1::41 ext-community rt 64533:15
allow to 2001:db8:1:1::41 large-community 999:64533:15


# announce_to_peers_with_rtt_higher_than 20 ms
allow to 2001:db8:1:1::41 community 64533:20
allow to 2001:db8:1:1::41 ext-community rt 64533:20
allow to 2001:db8:1:1::41 large-community 999:64533:20


# announce_to_peers_with_rtt_higher_than 30 ms
allow to 2001:db8:1:1::41 community 64533:30
allow to 2001:db8:1:1::41 ext-community rt 64533:30
allow to 2001:db8:1:1::41 large-community 999:64533:30


# announce_to_peers_with_rtt_higher_than 50 ms
allow to 2001:db8:1:1::41 community 64533:50
allow to 2001:db8:1:1::41 ext-community rt 64533:50
allow to 2001:db8:1:1::41 large-community 999:64533:50


# announce_to_peers_with_rtt_higher_than 100 ms
allow to 2001:db8:1:1::41 community 64533:100
allow to 2001:db8:1:1::41 ext-community rt 64533:100
allow to 2001:db8:1:1::41 large-community 999:64533:100


# announce_to_peers_with_rtt_higher_than 200 ms
allow to 2001:db8:1:1::41 community 64533:200
allow to 2001:db8:1:1::41 ext-community rt 64533:200
allow to 2001:db8:1:1::41 large-community 999:64533:200


# announce_to_peers_with_rtt_higher_than 500 ms
allow to 2001:db8:1:1::41 community 64533:500
allow to 2001:db8:1:1::41 ext-community rt 64533:500
allow to 2001:db8:1:1::41 large-community 999:64533:500


# announce_to_peer
allow to 2001:db8:1:1::41 community 65501:4
allow to 2001:db8:1:1::41 ext-community rt 65501:4
allow to 2001:db8:1:1::41 large-community 999:65501:4


# prepend_once_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 65521:4 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 65521:4 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:65521:4 set prepend-neighbor 1

match to 2001:db8:1:1::41 community 65521:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 65521:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:65521:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 65522:4 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 65522:4 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:65522:4 set prepend-neighbor 2

match to 2001:db8:1:1::41 community 65522:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 65522:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:65522:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peer; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 65523:4 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 65523:4 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:65523:4 set prepend-neighbor 3

match to 2001:db8:1:1::41 community 65523:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 65523:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:65523:4 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_peers_with_rtt_higher_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:500 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:500 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:500 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:500 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:500 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:500 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 500 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:500 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:500 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:500 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:500 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:200 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:200 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:200 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:200 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:200 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:200 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 200 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:200 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:200 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:200 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:200 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:100 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:100 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:100 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:100 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:100 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:100 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 100 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:100 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:100 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:100 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:100 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:50 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:50 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:50 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:50 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:50 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:50 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 50 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:50 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:50 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:50 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:50 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:30 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:30 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:30 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:30 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:30 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:30 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 30 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:30 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:30 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:30 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:30 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:20 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:20 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:20 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:20 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:20 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:20 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 20 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:20 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:20 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:20 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:20 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:15 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:15 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:15 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:15 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:15 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:15 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 15 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:15 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:15 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:15 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:15 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:10 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:10 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:10 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:10 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:10 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:10 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 10 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:10 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:10 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:10 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:10 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_once_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64537:5 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 64537:5 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:64537:5 set prepend-neighbor 1


match to 2001:db8:1:1::41 community 64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64537:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64538:5 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 64538:5 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:64538:5 set prepend-neighbor 2


match to 2001:db8:1:1::41 community 64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64538:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_peers_with_rtt_higher_than 5 ms; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 64539:5 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 64539:5 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:64539:5 set prepend-neighbor 3


match to 2001:db8:1:1::41 community 64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:64539:5 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }



# prepend_once_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::41 ext-community rt 65521:65521 set prepend-neighbor 1
match to 2001:db8:1:1::41 large-community 999:65521:65521 set prepend-neighbor 1

match to 2001:db8:1:1::41 community 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:65521:65521 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_twice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::41 ext-community rt 65522:65522 set prepend-neighbor 2
match to 2001:db8:1:1::41 large-community 999:65522:65522 set prepend-neighbor 2

match to 2001:db8:1:1::41 community 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:65522:65522 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# prepend_thrice_to_any; remove further "prepend" communities from matching routes
match to 2001:db8:1:1::41 community 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::41 ext-community rt 65523:65523 set prepend-neighbor 3
match to 2001:db8:1:1::41 large-community 999:65523:65523 set prepend-neighbor 3

match to 2001:db8:1:1::41 community 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 ext-community rt 65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }
match to 2001:db8:1:1::41 large-community 999:65523:65523 set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 community delete 65521:4 ext-community delete rt 65521:4 large-community delete 999:65521:4 community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 community delete 65523:4 ext-community delete rt 65523:4 large-community delete 999:65523:4 community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 community delete 65522:4 ext-community delete rt 65522:4 large-community delete 999:65522:4 community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }






# Scrub communities from outbound routes
# add_noadvertise_to_any
match to group clients set community delete 65508:999
match to group clients set ext-community delete rt 65508:999
match to group clients set large-community delete 999:65508:999

# add_noadvertise_to_peer
match to group clients set community delete 65510:*
# Warning: rt:65510:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:65510:*

# add_noexport_to_any
match to group clients set community delete 65507:999
match to group clients set ext-community delete rt 65507:999
match to group clients set large-community delete 999:65507:999

# add_noexport_to_peer
match to group clients set community delete 65509:*
# Warning: rt:65509:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:65509:*

# announce_to_peer
match to group clients set community delete 65501:*
# Warning: rt:65501:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:65501:*

# announce_to_peers_with_rtt_higher_than
match to group clients set community delete 64533:*
# Warning: rt:64533:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64533:*

# announce_to_peers_with_rtt_lower_than
match to group clients set community delete 64532:*
# Warning: rt:64532:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64532:*

# blackholing
match to group clients set community delete 65534:0
match to group clients set large-community delete 65534:0:0

# do_not_announce_to_any
match to group clients set community delete 0:999
match to group clients set ext-community delete rt 0:999
match to group clients set large-community delete 999:0:999

# do_not_announce_to_peer
match to group clients set community delete 0:*
# Warning: rt:0:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:0:*

# do_not_announce_to_peers_with_rtt_higher_than
match to group clients set community delete 64531:*
# Warning: rt:64531:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64531:*

# do_not_announce_to_peers_with_rtt_lower_than
match to group clients set community delete 64530:*
# Warning: rt:64530:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64530:*

# prepend_once_to_any
match to group clients set community delete 65521:65521
match to group clients set ext-community delete rt 65521:65521
match to group clients set large-community delete 999:65521:65521

# prepend_once_to_peer
match to group clients set community delete 65521:*
# Warning: rt:65521:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:65521:*

# prepend_once_to_peers_with_rtt_higher_than
match to group clients set community delete 64537:*
# Warning: rt:64537:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64537:*

# prepend_once_to_peers_with_rtt_lower_than
match to group clients set community delete 64534:*
# Warning: rt:64534:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64534:*

# prepend_thrice_to_any
match to group clients set community delete 65523:65523
match to group clients set ext-community delete rt 65523:65523
match to group clients set large-community delete 999:65523:65523

# prepend_thrice_to_peer
match to group clients set community delete 65523:*
# Warning: rt:65523:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:65523:*

# prepend_thrice_to_peers_with_rtt_higher_than
match to group clients set community delete 64539:*
# Warning: rt:64539:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64539:*

# prepend_thrice_to_peers_with_rtt_lower_than
match to group clients set community delete 64536:*
# Warning: rt:64536:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64536:*

# prepend_twice_to_any
match to group clients set community delete 65522:65522
match to group clients set ext-community delete rt 65522:65522
match to group clients set large-community delete 999:65522:65522

# prepend_twice_to_peer
match to group clients set community delete 65522:*
# Warning: rt:65522:peer_as ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:65522:*

# prepend_twice_to_peers_with_rtt_higher_than
match to group clients set community delete 64538:*
# Warning: rt:64538:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64538:*

# prepend_twice_to_peers_with_rtt_lower_than
match to group clients set community delete 64535:*
# Warning: rt:64535:dyn_val ext comm skipped: can't delete ext comms using wildcard
match to group clients set large-community delete 999:64535:*


# Scrub prepending communities
match to group clients set {  community delete 65521:65521 ext-community delete rt 65521:65521 large-community delete 999:65521:65521 }
match to group clients set {  community delete 65521:0 ext-community delete rt 65521:0 large-community delete 999:65521:0 }
match to group clients set {  community delete 64537:* ext-community delete rt 64537:5 ext-community delete rt 64537:10 ext-community delete rt 64537:15 ext-community delete rt 64537:20 ext-community delete rt 64537:30 ext-community delete rt 64537:50 ext-community delete rt 64537:100 ext-community delete rt 64537:200 ext-community delete rt 64537:500 large-community delete 999:64537:* }
match to group clients set {  community delete 64534:* ext-community delete rt 64534:5 ext-community delete rt 64534:10 ext-community delete rt 64534:15 ext-community delete rt 64534:20 ext-community delete rt 64534:30 ext-community delete rt 64534:50 ext-community delete rt 64534:100 ext-community delete rt 64534:200 ext-community delete rt 64534:500 large-community delete 999:64534:* }
match to group clients set {  community delete 65523:65523 ext-community delete rt 65523:65523 large-community delete 999:65523:65523 }
match to group clients set {  community delete 65523:0 ext-community delete rt 65523:0 large-community delete 999:65523:0 }
match to group clients set {  community delete 64539:* ext-community delete rt 64539:5 ext-community delete rt 64539:10 ext-community delete rt 64539:15 ext-community delete rt 64539:20 ext-community delete rt 64539:30 ext-community delete rt 64539:50 ext-community delete rt 64539:100 ext-community delete rt 64539:200 ext-community delete rt 64539:500 large-community delete 999:64539:* }
match to group clients set {  community delete 64536:* ext-community delete rt 64536:5 ext-community delete rt 64536:10 ext-community delete rt 64536:15 ext-community delete rt 64536:20 ext-community delete rt 64536:30 ext-community delete rt 64536:50 ext-community delete rt 64536:100 ext-community delete rt 64536:200 ext-community delete rt 64536:500 large-community delete 999:64536:* }
match to group clients set {  community delete 65522:65522 ext-community delete rt 65522:65522 large-community delete 999:65522:65522 }
match to group clients set {  community delete 65522:0 ext-community delete rt 65522:0 large-community delete 999:65522:0 }
match to group clients set {  community delete 64538:* ext-community delete rt 64538:5 ext-community delete rt 64538:10 ext-community delete rt 64538:15 ext-community delete rt 64538:20 ext-community delete rt 64538:30 ext-community delete rt 64538:50 ext-community delete rt 64538:100 ext-community delete rt 64538:200 ext-community delete rt 64538:500 large-community delete 999:64538:* }
match to group clients set {  community delete 64535:* ext-community delete rt 64535:5 ext-community delete rt 64535:10 ext-community delete rt 64535:15 ext-community delete rt 64535:20 ext-community delete rt 64535:30 ext-community delete rt 64535:50 ext-community delete rt 64535:100 ext-community delete rt 64535:200 ext-community delete rt 64535:500 large-community delete 999:64535:* }


# RFC1997 NO_EXPORT/NO_ADVERTISE received from clients and propagated because of pass-through policy
match to group clients ext-community $INTCOMM_NO_EXPORT set community NO_EXPORT
match to group clients ext-community $INTCOMM_NO_ADVERTISE set community NO_ADVERTISE

# Remove internal communities before announcing the route
match to group clients set { ext-community delete $INTCOMM_PREF_OK_ROA ext-community delete $INTCOMM_ROUTE_OK_WL ext-community delete $INTCOMM_PREF_OK_ARINDB ext-community delete $INTCOMM_PREF_OK_REGISTROBRDB ext-community delete $INTCOMM_ORIGIN_OK ext-community delete $INTCOMM_ORIGIN_KO ext-community delete $INTCOMM_PREFIX_OK ext-community delete $INTCOMM_PREFIX_KO ext-community delete $INTCOMM_IRR_REJECT ext-community delete $INTCOMM_RPKI_UNKNOWN ext-community delete $INTCOMM_RPKI_INVALID ext-community delete $INTCOMM_RPKI_VALID  ext-community delete $INTCOMM_NO_EXPORT ext-community delete $INTCOMM_NO_ADVERTISE  }

include "/etc/bgpd/post-filters.local"


